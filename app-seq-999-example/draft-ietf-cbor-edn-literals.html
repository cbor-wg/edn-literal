<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>CBOR Extended Diagnostic Notation (EDN)</title>
<meta content="Carsten Bormann" name="author">
<meta content="
       This document formalizes and consolidates the definition of the Extended
Diagnostic Notation (EDN) of the Concise Binary Object Representation
(CBOR), addressing implementer experience. 
       Replacing EDN's previous informal descriptions, it updates
RFC 8949, obsoleting its Section 8, and RFC 8610, obsoleting its
Appendix G. 
       It also specifies and uses registry-based extension points, using one
to support text representations of epoch-based dates/times and of IP
addresses and prefixes. 
       (This cref will be removed by the RFC editor:) 
The present -17 is intended to fully address the WGLC
comments.
It is intended for use as a reference document for the
CBOR WG interim meeting on 2025-05-14. 
    " name="description">
<meta content="xml2rfc 3.28.1" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-cbor-edn-literals-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.28.1
    Python 3.12.10
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.0
    platformdirs 4.3.7
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-ietf-cbor-edn-literals.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">CBOR Extended Diagnostic Notation (EDN)</td>
<td class="right">May 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bormann</td>
<td class="center">Expires 16 November 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-cbor-edn-literals-latest</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc8610" class="eref">8610</a>, <a href="https://www.rfc-editor.org/rfc/rfc8949" class="eref">8949</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-05-15" class="published">15 May 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-11-16">16 November 2025</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Bormann</div>
<div class="org">Universität Bremen TZI</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">CBOR Extended Diagnostic Notation (EDN)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document formalizes and consolidates the definition of the Extended
Diagnostic Notation (EDN) of the Concise Binary Object Representation
(CBOR), addressing implementer experience.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Replacing EDN's previous informal descriptions, it updates
RFC 8949, obsoleting its Section 8, and RFC 8610, obsoleting its
Appendix G.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">It also specifies and uses registry-based extension points, using one
to support text representations of epoch-based dates/times and of IP
addresses and prefixes.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
<p id="section-abstract-4"><span class="cref" id="status">(This cref will be removed by the RFC editor:)<br>
The present -17 is intended to fully address the WGLC
comments.
It is intended for use as a reference document for the
CBOR WG interim meeting on 2025-05-14.</span><a href="#section-abstract-4" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://cbor-wg.github.io/edn-literal/">https://cbor-wg.github.io/edn-literal/</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ietf-cbor-edn-literals/">https://datatracker.ietf.org/doc/draft-ietf-cbor-edn-literals/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        cbor Working Group mailing list (<span><a href="mailto:cbor@ietf.org">mailto:cbor@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/cbor/">https://mailarchive.ietf.org/arch/browse/cbor/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/cbor/">https://www.ietf.org/mailman/listinfo/cbor/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/cbor-wg/edn-literal">https://github.com/cbor-wg/edn-literal</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 16 November 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-structure-of-this-document" class="internal xref">Structure of This Document</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-non-objectives-of-this-docu" class="internal xref">(Non-)Objectives of this Document</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3.2.1">
                    <p id="section-toc.1-1.1.2.3.2.1.1" class="keepWithNext"><a href="#section-1.3.1" class="auto internal xref">1.3.1</a>.  <a href="#name-for-humans" class="internal xref">For Humans</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3.2.2">
                    <p id="section-toc.1-1.1.2.3.2.2.1"><a href="#section-1.3.2" class="auto internal xref">1.3.2</a>.  <a href="#name-determinism" class="internal xref">Determinism?</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3.2.3">
                    <p id="section-toc.1-1.1.2.3.2.3.1"><a href="#section-1.3.3" class="auto internal xref">1.3.3</a>.  <a href="#name-basic-output-format" class="internal xref">Basic Output Format</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-overview-over-cbor-extended" class="internal xref">Overview over CBOR Extended Diagnostic Notation (EDN)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-application-oriented-extens" class="internal xref">Application-Oriented Extension Literals</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-comments" class="internal xref">Comments</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-encoding-indicators" class="internal xref">Encoding Indicators</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="auto internal xref">2.4</a>.  <a href="#name-numbers" class="internal xref">Numbers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="auto internal xref">2.5</a>.  <a href="#name-strings" class="internal xref">Strings</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.1">
                    <p id="section-toc.1-1.2.2.5.2.1.1"><a href="#section-2.5.1" class="auto internal xref">2.5.1</a>.  <a href="#name-text-string-literals" class="internal xref">Text String Literals</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.2">
                    <p id="section-toc.1-1.2.2.5.2.2.1"><a href="#section-2.5.2" class="auto internal xref">2.5.2</a>.  <a href="#name-byte-string-literals" class="internal xref">Byte String Literals</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.3">
                    <p id="section-toc.1-1.2.2.5.2.3.1"><a href="#section-2.5.3" class="auto internal xref">2.5.3</a>.  <a href="#name-single-quoted-string-litera" class="internal xref">Single-Quoted String Literals</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.4">
                    <p id="section-toc.1-1.2.2.5.2.4.1"><a href="#section-2.5.4" class="auto internal xref">2.5.4</a>.  <a href="#name-encoding-indicators-of-stri" class="internal xref">Encoding Indicators of Strings</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.5">
                    <p id="section-toc.1-1.2.2.5.2.5.1"><a href="#section-2.5.5" class="auto internal xref">2.5.5</a>.  <a href="#name-base-encoded-byte-string-li" class="internal xref">Base-Encoded Byte String Literals</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.6">
                    <p id="section-toc.1-1.2.2.5.2.6.1"><a href="#section-2.5.6" class="auto internal xref">2.5.6</a>.  <a href="#name-cbor-sequence-literals" class="internal xref">CBOR Sequence Literals</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.7">
                    <p id="section-toc.1-1.2.2.5.2.7.1"><a href="#section-2.5.7" class="auto internal xref">2.5.7</a>.  <a href="#name-validity-of-text-strings" class="internal xref">Validity of Text Strings</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a href="#section-2.6" class="auto internal xref">2.6</a>.  <a href="#name-arrays-and-maps" class="internal xref">Arrays and Maps</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.6.2.1">
                    <p id="section-toc.1-1.2.2.6.2.1.1"><a href="#section-2.6.1" class="auto internal xref">2.6.1</a>.  <a href="#name-encoding-indicators-of-arra" class="internal xref">Encoding Indicators of Arrays and Maps</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.6.2.2">
                    <p id="section-toc.1-1.2.2.6.2.2.1"><a href="#section-2.6.2" class="auto internal xref">2.6.2</a>.  <a href="#name-validity-of-maps" class="internal xref">Validity of Maps</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.7">
                <p id="section-toc.1-1.2.2.7.1"><a href="#section-2.7" class="auto internal xref">2.7</a>.  <a href="#name-tags" class="internal xref">Tags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.8">
                <p id="section-toc.1-1.2.2.8.1"><a href="#section-2.8" class="auto internal xref">2.8</a>.  <a href="#name-simple-values" class="internal xref">Simple values</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-application-oriented-extensi" class="internal xref">Application-Oriented Extension Literals</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-the-dt-extension" class="internal xref">The "dt" Extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-the-ip-extension" class="internal xref">The "ip" Extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-the-hash-extension" class="internal xref">The "hash" Extension</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-stand-in-representations-in" class="internal xref">Stand-in Representations in Binary CBOR</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-handling-unknown-applicatio" class="internal xref">Handling unknown application-extension identifiers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-handling-information-delibe" class="internal xref">Handling information deliberately elided from an EDN document</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-abnf-definitions" class="internal xref">ABNF Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-overall-abnf-definition-for" class="internal xref">Overall ABNF Definition for Extended Diagnostic Notation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-abnf-definitions-for-applic" class="internal xref">ABNF Definitions for Application Extension Content</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-h-abnf-definition-of-hexade" class="internal xref">h: ABNF Definition of Hexadecimal representation of a byte string</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-b64-abnf-definition-of-base" class="internal xref">b64: ABNF Definition of Base64 representation of a byte string</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="auto internal xref">5.2.3</a>.  <a href="#name-dt-abnf-definition-of-rfc-3" class="internal xref">dt: ABNF Definition of RFC 3339 Representation of a Date/Time</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.4">
                    <p id="section-toc.1-1.5.2.2.2.4.1"><a href="#section-5.2.4" class="auto internal xref">5.2.4</a>.  <a href="#name-ip-abnf-definition-of-textu" class="internal xref">ip: ABNF Definition of Textual Representation of an IP Address</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-abnf-definitions-for-integr" class="internal xref">ABNF Definitions for Integrated Extension Parsers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="auto internal xref">5.3.1</a>.  <a href="#name-h-abnf-definition-of-integr" class="internal xref">h: ABNF Definition of Integrated Parser</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="auto internal xref">5.3.2</a>.  <a href="#name-b64-abnf-definition-of-inte" class="internal xref">b64: ABNF Definition of Integrated Parser</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-cbor-diagnostic-notation-ap" class="internal xref">CBOR Diagnostic Notation Application-extension Identifiers Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-encoding-indicators-2" class="internal xref">Encoding Indicators</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-media-type" class="internal xref">Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-content-format" class="internal xref">Content-Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-stand-in-tags" class="internal xref">Stand-in Tags</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-edn-and-cddl" class="internal xref">EDN and CDDL</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Concise Binary Object Representation (CBOR) (RFC8949) <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>
    is a data format whose design goals include the possibility of
    extremely small code size, fairly small message size, and
    extensibility without the need for version negotiation.
In addition to the binary interchange format, the original CBOR specification
    described a text-based "diagnostic notation" (<span><a href="https://rfc-editor.org/rfc/rfc7049#section-6" class="relref">Section 6</a> of [<a href="#RFC7049" class="cite xref">RFC7049</a>]</span>, now Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>), in
    order to be able to converse about CBOR data items without having
    to resort to binary data.
<span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G" class="relref">Appendix G</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> extended this into what is also known as
Extended Diagnostic Notation (EDN).<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Diagnostic notation syntax is based on JSON, with extensions
for representing CBOR constructs such as binary data and tags.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Standardizing EDN in addition to the actual binary interchange format CBOR does
not serve to create a competing interchange format, but enables the use of
a shared diagnostic notation in tools for and in documents about CBOR.
Still, between tools for CBOR development and diagnosis, document
generation systems, continuous integration (CI)
environments, configuration files, and user interfaces for viewing and
editing for all these, EDN is often "interchanged" and therefore
merits a specification that facilitates interoperability within this
domain as well as reliable translation to and from CBOR.
EDN is not designed or intended for general-purpose use in protocol
elements exchanged between systems engaged in processes outside those
listed here.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">​This document consolidates and formalizes the definition of EDN,
providing a formal grammar (see <a href="#grammar" class="auto internal xref">Section 5.1</a> and <a href="#app-grammars" class="auto internal xref">Section 5.2</a>), and
incorporating small changes based on implementation experience.
It updates <a href="#RFC8949" class="auto internal xref">RFC8949</a>, obsoleting Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>, and
<span>[<a href="#RFC8610" class="cite xref">RFC8610</a>]</span>, obsoleting <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G" class="relref">Appendix G</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span>.
It is intended to serve as a single reference target that can be used
in specifications that use EDN.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">It also specifies two registry-based extension points for the
diagnostic notation:
one for additional encoding indicators, and
one for adding application-oriented literal forms.
It uses these registries to add encoding indicators for a more
complete coverage of encoding variation,
and to add application-oriented literal forms that enhance EDN with text
representations of epoch-based date/times and of IP addresses
and prefixes <span>[<a href="#RFC9164" class="cite xref">RFC9164</a>]</span> as well as an application-oriented literal that
represents cryptographic hash values computed from byte strings.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">In addition, this document registers a media type identifier
and a content-format for CBOR diagnostic notation.  This does not
elevate its status as an interchange format, but recognizes that
interaction between tools is often smoother if media types can be used.<a href="#section-1-6" class="pilcrow">¶</a></p>
<aside id="section-1-7">
        <p id="section-1-7.1">Examples in RFCs often do not use media type identifiers, but
special sourcecode type names that are allocated
in <a href="https://www.rfc-editor.org/materials/sourcecode-types.txt">https://www.rfc-editor.org/materials/sourcecode-types.txt</a>.
At the time of writing, this resource lists four sourcecode type
names that can be used in RFCs for including CBOR data items and
CBOR-related languages:<a href="#section-1-7.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-7.2.1">
            <p id="section-1-7.2.1.1"><code>cbor</code> (which is actually not useful, as CBOR is a binary format
and cannot be used in textual examples in an RFC),<a href="#section-1-7.2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1-7.2.2">
            <p id="section-1-7.2.2.1"><code>cbor-diag</code> (which is another name for EDN, as defined in the
present document),<a href="#section-1-7.2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1-7.2.3">
            <p id="section-1-7.2.3.1"><code>cbor-pretty</code> (which is a possibly annotated and pretty-printed
hexdump of an encoded CBOR data item, along the lines of the
grammar of <a href="#h-grammar" class="auto internal xref">Section 5.2.1</a>, as used for instance for some of the examples
in <span><a href="https://rfc-editor.org/rfc/rfc9290#appendix-A.3" class="relref">Appendix A.3</a> of [<a href="#RFC9290" class="cite xref">RFC9290</a>]</span>), and<a href="#section-1-7.2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1-7.2.4">
            <p id="section-1-7.2.4.1"><code>cddl</code> (which is used for the Concise Data Definition Language,
CDDL, see <a href="#terminology" class="auto internal xref">Section 1.2</a> below).<a href="#section-1-7.2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</aside>
<p id="section-1-8">Note that EDN is not meant to be the only text-based representation of
CBOR data items.
For instance, <span>[<a href="#YAML" class="cite xref">YAML</a>]</span> <span>[<a href="#RFC9512" class="cite xref">RFC9512</a>]</span> is able to represent most CBOR
data items, possibly requiring use of YAML's extension points.
YAML does not provide certain features that can be useful with tools
and documents needing text-based representations of CBOR data items
(such as embedded CBOR or encoding indicators),
but it does provide a host of other features that EDN does not provide
such as anchor/alias data sharing, at a cost of higher implementation
and learning complexity.<a href="#section-1-8" class="pilcrow">¶</a></p>
<div id="structure-of-this-document">
<section id="section-1.1">
        <h3 id="name-structure-of-this-document">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-structure-of-this-document" class="section-name selfRef">Structure of This Document</a>
        </h3>
<p id="section-1.1-1"><a href="#diagnostic-notation" class="auto internal xref">Section 2</a> of this document has been built from Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> and <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G" class="relref">Appendix G</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span>.
The latter provided a number of useful extensions to the
diagnostic notation originally defined in <span><a href="https://rfc-editor.org/rfc/rfc7049#section-6" class="relref">Section 6</a> of [<a href="#RFC7049" class="cite xref">RFC7049</a>]</span>.
Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> and <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G" class="relref">Appendix G</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> have
collectively been called "Extended Diagnostic Notation" (EDN), giving
the present document its name.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">After introductory material, <a href="#app-ext" class="auto internal xref">Section 3</a>
illustrates the concept of application-oriented extension literals by
defining the "dt", "ip", and "hash" extensions.
<a href="#stand-in" class="auto internal xref">Section 4</a> defines mechanisms
for dealing with unknown application-oriented literals and
deliberately elided information.
<a href="#grammars" class="auto internal xref">Section 5</a> gives the formal syntax of EDN in ABNF, with
explanations for some features of and additions to this syntax, as an
overall grammar (<a href="#grammar" class="auto internal xref">Section 5.1</a>) and specific grammars for the content of
app-string and byte-string literals (<a href="#app-grammars" class="auto internal xref">Section 5.2</a>).
This is followed by the conventional sections
for
<a href="#sec-iana" class="internal xref">IANA Considerations</a> (<a href="#sec-iana" class="auto internal xref">6</a>),
<a href="#seccons" class="internal xref">Security considerations</a> (<a href="#seccons" class="auto internal xref">7</a>),
and References (<a href="#sec-normative-references" class="auto internal xref">8.1</a>, <a href="#sec-informative-references" class="auto internal xref">8.2</a>).
An informational comparison of EDN with CDDL follows in
<a href="#edn-and-cddl" class="auto internal xref">Appendix A</a><a href="#section-1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-1.2">
        <h3 id="name-terminology">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.2-1">Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> defines the original CBOR diagnostic notation,
and <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G" class="relref">Appendix G</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> supplies a number of extensions to the
diagnostic notation that result in the Extended Diagnostic Notation
(EDN).
The diagnostic notation extensions include popular features such as
embedded CBOR (encoded CBOR data items in byte strings) and comments.
A simple diagnostic notation extension that enables representing CBOR
sequences was added in <span><a href="https://rfc-editor.org/rfc/rfc8742#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC8742" class="cite xref">RFC8742</a>]</span>.
As diagnostic notation is not used in the kind of interchange
situations where backward compatibility would pose a significant
obstacle, there is little point in not using these extensions; as at
least some elements of the extended form are now near-universally
used, the terms "diagnostic notation" and "EDN" have become
synonyms in the context of CBOR.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">Therefore, when we refer to "<em>diagnostic notation</em>", we mean to
include the original notation from Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> as well as the
extensions from <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G" class="relref">Appendix G</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span>, <span><a href="https://rfc-editor.org/rfc/rfc8742#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC8742" class="cite xref">RFC8742</a>]</span>, and the
present document.
However, we stick to the abbreviation "<em>EDN</em>" as it has become quite
popular and is more sharply distinguishable from other meanings than
"DN" would be.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">In a similar vein, the term "ABNF" in this document refers to the
language defined in <span>[<a href="#STD68" class="cite xref">STD68</a>]</span> as extended in <span>[<a href="#RFC7405" class="cite xref">RFC7405</a>]</span>, where the
"characters" of Section <a href="https://rfc-editor.org/rfc/rfc5234#section-2.3" class="relref">2.3</a> of RFC 5234 <span>[<a href="#STD68" class="cite xref">STD68</a>]</span> are Unicode scalar values.
Brief snippets of grammar may be given in the text as I-Regexp regular
expressions <span>[<a href="#RFC9485" class="cite xref">RFC9485</a>]</span>.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<p id="section-1.2-4">The term "CDDL" (Concise Data Definition Language) refers to the data
definition language defined in
<span>[<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> and its registered extensions (such as those in <span>[<a href="#RFC9165" class="cite xref">RFC9165</a>]</span>), as
well as <span>[<a href="#I-D.ietf-cbor-update-8610-grammar" class="cite xref">I-D.ietf-cbor-update-8610-grammar</a>]</span>.
Additional information about the relationship between the two
languages EDN and CDDL is captured in <a href="#edn-and-cddl" class="auto internal xref">Appendix A</a>.<a href="#section-1.2-4" class="pilcrow">¶</a></p>
<p id="section-1.2-5">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in <span>[<a href="#BCP14" class="cite xref">BCP14</a>]</span> (<a href="#RFC2119" class="auto internal xref">RFC2119</a>) (<a href="#RFC8174" class="auto internal xref">RFC8174</a>) when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="non-objectives-of-this-document">
<section id="section-1.3">
        <h3 id="name-non-objectives-of-this-docu">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-non-objectives-of-this-docu" class="section-name selfRef">(Non-)Objectives of this Document</a>
        </h3>
<p id="section-1.3-1">Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> states the objective of defining a
common human-readable diagnostic notation with CBOR.
In particular, it states:<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<blockquote id="section-1.3-2">
          <p id="section-1.3-2.1">All actual interchange always happens in the binary format.<a href="#section-1.3-2.1" class="pilcrow">¶</a></p>
</blockquote>
<div id="for-humans">
<section id="section-1.3.1">
          <h4 id="name-for-humans">
<a href="#section-1.3.1" class="section-number selfRef">1.3.1. </a><a href="#name-for-humans" class="section-name selfRef">For Humans</a>
          </h4>
<p id="section-1.3.1-1">One important application of EDN is the notation of CBOR data for
humans: in specifications, on whiteboards, and for entering test data.
A number of features, such as comments inside prefixed string literals, are mainly
useful for people-to-people communication via EDN.
Programs also often output EDN for diagnostic purposes, such as in
error messages or to enable comparison (including generation of diffs
via tools) with test data.<a href="#section-1.3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="determinism">
<section id="section-1.3.2">
          <h4 id="name-determinism">
<a href="#section-1.3.2" class="section-number selfRef">1.3.2. </a><a href="#name-determinism" class="section-name selfRef">Determinism?</a>
          </h4>
<p id="section-1.3.2-1">For comparison with test data, it is often useful if different
implementations generate the same (or similar) output for the same
CBOR data items.
This is comparable to the objectives of deterministic serialization
for CBOR data items themselves (Section <a href="https://rfc-editor.org/rfc/rfc8949#section-4.2" class="relref">4.2</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>).
However, there are even more representation variants in EDN than in
binary CBOR, and there is little point in specifically endorsing a
single variant as "deterministic" when other variants may be more
useful for human understanding, e.g., the <code>&lt;&lt; &gt;&gt;</code> notation as
opposed to <code>h''</code>; an EDN generator may have quite a few options
that control what presentation variant is most desirable for the
application that it is being used for.<a href="#section-1.3.2-1" class="pilcrow">¶</a></p>
<p id="section-1.3.2-2">Because of this, a deterministic representation is not defined for
EDN, and there is no expectation for "roundtripping" from EDN to
CBOR and back, i.e., for an ability
to convert EDN to binary CBOR and back to EDN while achieving exactly
the same result as the original input EDN — the original EDN possibly
was created by humans or by a different EDN generator.<a href="#section-1.3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="basic-output-format">
<section id="section-1.3.3">
          <h4 id="name-basic-output-format">
<a href="#section-1.3.3" class="section-number selfRef">1.3.3. </a><a href="#name-basic-output-format" class="section-name selfRef">Basic Output Format</a>
          </h4>
<p id="section-1.3.3-1">However, there is a certain expectation that EDN generators can be
configured to some basic output format, which:<a href="#section-1.3.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3.3-2.1">
              <p id="section-1.3.3-2.1.1">looks like JSON where that is possible;<a href="#section-1.3.3-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-1.3.3-2.2">
              <p id="section-1.3.3-2.2.1">inserts encoding indicators only where the binary form differs from
preferred encoding;<a href="#section-1.3.3-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-1.3.3-2.3">
              <p id="section-1.3.3-2.3.1">uses hexadecimal representation (<code>h''</code>) for byte strings, not
<code>b64''</code> or embedded CBOR (<code>&lt;&lt;&gt;&gt;</code>);<a href="#section-1.3.3-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-1.3.3-2.4">
              <p id="section-1.3.3-2.4.1">does not generate elaborate blank space (newlines, indentation) for
pretty-printing, but does use common blank spaces such as after <code>,</code>
and <code>:</code>.<a href="#section-1.3.3-2.4.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-1.3.3-3">EDN generators may provide configuration to consistently select either
the unescaped (directly readable) or an escaped (ASCII equivalent) form of
characters in string literals; the latter allows EDN to be used when the
diagnostic value of fully escaped characters may be desired or in
environments where non-ASCII characters may not enjoy full data
transparency.
Similar to JSON, EDN is designed to allow a simple tool to convert any
EDN (including EDN with application extensions unknown to the tool)
into fully escaped (printable ASCII and newlines only) form, as well
as to inversely recover unescaped characters for all escapes where
this is possible or for certain subsets of the characters (such as
Unicode categories L, M, N, P, S, plus Zs or just ASCII space).<a href="#section-1.3.3-3" class="pilcrow">¶</a></p>
<p id="section-1.3.3-4">Additional features such as ensuring
deterministic map ordering (Section <a href="https://rfc-editor.org/rfc/rfc8949#section-4.2" class="relref">4.2</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>) on output,
or even deviating from the basic
configuration in some systematic way, can further assist in comparing
test data.
Information obtained from a CDDL model can help in choosing
application-oriented literals or specific string representations such
as embedded CBOR or <code>b64''</code> in the appropriate places.<a href="#section-1.3.3-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="diagnostic-notation">
<section id="section-2">
      <h2 id="name-overview-over-cbor-extended">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-over-cbor-extended" class="section-name selfRef">Overview over CBOR Extended Diagnostic Notation (EDN)</a>
      </h2>
<p id="section-2-1">CBOR is a binary interchange format.  To facilitate documentation and
debugging, and in particular to facilitate communication between
entities cooperating in debugging, this document defines a simple
human-readable diagnostic notation.  All actual interchange always
happens in the binary format.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Note that diagnostic notation truly was designed as a diagnostic
format; it originally was not meant to be parsed.
Therefore, no formal definition (as in ABNF) was given in the original
documents.
Recognizing that formal grammars can aid interoperation of tools and
usability of documents that employ EDN, <a href="#grammars" class="auto internal xref">Section 5</a> now provides ABNF
definitions.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">EDN is a true superset of JSON as it is defined in <span>[<a href="#STD90" class="cite xref">STD90</a>]</span> in
conjunction with <span>[<a href="#RFC7493" class="cite xref">RFC7493</a>]</span> (that is, any interoperable <span>[<a href="#RFC7493" class="cite xref">RFC7493</a>]</span> JSON
text also is an EDN text), extending it both to cover the greater
expressiveness of CBOR and to increase its usability.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">EDN borrows the JSON syntax for numbers (integer and
floating-point, <a href="#numbers" class="auto internal xref">Section 2.4</a>), certain simple values (<a href="#simple-values" class="auto internal xref">Section 2.8</a>),
UTF-8 <span>[<a href="#STD63" class="cite xref">STD63</a>]</span> text
strings, arrays, and maps (maps are called objects in JSON; the
diagnostic notation extends JSON here by allowing any data item in the
map key position).<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">As EDN is used for truly diagnostic purposes, its implementations <span class="bcp14">MAY</span>
support generation and possibly ingestion of EDN for CBOR data items
that are well-formed but not valid.
It is <span class="bcp14">RECOMMENDED</span> that an implementation enables such usage only
explicitly by configuration (such as an API or CLI flag).
Validity of CBOR data items is discussed in Section <a href="https://rfc-editor.org/rfc/rfc8949#section-5.3" class="relref">5.3</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>,
with basic validity discussed in Section <a href="https://rfc-editor.org/rfc/rfc8949#section-5.3.1" class="relref">5.3.1</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>, and
tag validity discussed in Section <a href="https://rfc-editor.org/rfc/rfc8949#section-5.3.2" class="relref">5.3.2</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>.
Tag validity is more likely a subject for individual
application-oriented extensions, while the two cases of basic validity
(for text strings and for maps) are addressed in Sections
<a href="#text-validity" class="auto internal xref">2.5.7</a> and <a href="#map-validity" class="auto internal xref">2.6.2</a> under the heading
of <em>validity</em>.<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">The rest of this section provides an overview over specific features
of EDN, starting with certain common syntactical features and then
going through kinds of CBOR data items roughly in the order of CBOR major
types.
Any additional detailed syntax discussion needed has been deferred to
<a href="#grammar" class="auto internal xref">Section 5.1</a>.<a href="#section-2-6" class="pilcrow">¶</a></p>
<div id="app-lit">
<section id="section-2.1">
        <h3 id="name-application-oriented-extens">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-application-oriented-extens" class="section-name selfRef">Application-Oriented Extension Literals</a>
        </h3>
<p id="section-2.1-1">EDN provides <em>literals</em> that represent CBOR data items textually.
Many of the forms of literals provided are predefined by this
document, but it also defines an extension point that enables defining
<em>application-oriented extension literals</em>, or <em>extension literals</em> for short.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">Extension literals start with a <em>prefix</em> that identifies the
application-oriented extension, immediately followed by a sequence
literal (<a href="#embedded" class="auto internal xref">Section 2.5.6</a>) or a single-quoted string literal (<a href="#strings" class="auto internal xref">Section 2.5</a>).
The latter form uses its single-quoted string literal as a shorthand
form for a sequence literal representing a sequence with exactly that
one string data item.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<aside id="section-2.1-3">
          <p id="section-2.1-3.1">This notation is generalized from
Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>, which provides for notating byte
strings in a number of <span>[<a href="#RFC4648" class="cite xref">RFC4648</a>]</span> base encodings, where the encoded text
is enclosed in single quotes, prefixed by a prefix (»h« for
base16, »b32« for base32, »h32« for base32hex, »b64« for base64 or
base64url).<a href="#section-2.1-3.1" class="pilcrow">¶</a></p>
<p id="section-2.1-3.2">This syntax can be thought to establish a name space, with the names
"h", "b32", "h32", and "b64" taken, but other names being unallocated.
The present specification allows registering additional names for this namespace,
which we call <em>application-extension identifiers</em>.<a href="#section-2.1-3.2" class="pilcrow">¶</a></p>
</aside>
<p id="section-2.1-4">More precisely, an <em>application-extension identifier</em> is a name consisting of a
lower-case ASCII letter (<code>[a-z]</code>) and zero or more additional ASCII
characters that are either lower-case letters, digits, or hyphens (<code>[a-z0-9-]</code>).
»false«, »true«, »null«, and »undefined« cannot be used as such
identifiers and are reserved.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5">Application-extension identifiers are registered in a registry
(<a href="#appext-iana" class="auto internal xref">Section 6.1</a>).<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">An application-extension (such as <code>dt</code>) <span class="bcp14">MAY</span> also define the meaning of
a variant prefix derived from its application-extension identifier by
replacing each lower-case character by its upper-case counterpart (such
as <code>DT</code>).
As a convention for such definitions, using the all-uppercase variant
implies making use of a tag appropriate for this application-oriented
extension (such as tag number 1 for <code>DT</code>, where <code>dt</code> stands for the
unwrapped number).<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">This specification defines a number of generally applicable
application-oriented extensions (<a href="#app-ext" class="auto internal xref">Section 3</a>), both to motivate
making these extensions generally available, and to illustrate the
concept.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="comments">
<section id="section-2.2">
        <h3 id="name-comments">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-comments" class="section-name selfRef">Comments</a>
        </h3>
<p id="section-2.2-1">For presentation to humans, EDN text may benefit from comments.
JSON famously does not provide for comments, and the original
diagnostic notation in <span><a href="https://rfc-editor.org/rfc/rfc7049#section-6" class="relref">Section 6</a> of [<a href="#RFC7049" class="cite xref">RFC7049</a>]</span> inherited this property.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">EDN now provides two comment syntaxes, which can be used where the
syntax allows blank space (outside of constructs such as numbers,
string literals, etc.):<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-3.1">
            <p id="section-2.2-3.1.1">inline comments, delimited by slashes ("<code>/</code>"):<a href="#section-2.2-3.1.1" class="pilcrow">¶</a></p>
<p id="section-2.2-3.1.2">
In a position that allows blank space, any text within and including
a pair of slashes is considered blank space (and thus effectively a
comment).<a href="#section-2.2-3.1.2" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-3.2">
            <p id="section-2.2-3.2.1">end-of-line comments, delimited by "<code>#</code>" and an end of line (LINE
FEED, U+000A):<a href="#section-2.2-3.2.1" class="pilcrow">¶</a></p>
<p id="section-2.2-3.2.2">
In a position that allows blank space, any text within and including
a pair of a "<code>#</code>" and the end of the line is considered blank space
(and thus effectively a comment).<a href="#section-2.2-3.2.2" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-2.2-4">Comments can be used to annotate a CBOR structure as in:<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.2-5">
<pre>
/grasp-message/ [/M_DISCOVERY/ 1, /session-id/ 10584416,
                 /objective/ [/objective-name/ "opsonize",
                              /D, N, S/ 7, /loop-count/ 105]]
</pre><a href="#section-2.2-5" class="pilcrow">¶</a>
</div>
<p id="section-2.2-6">This reduces to <code>[1, 10584416, ["opsonize", 7, 105]]</code>.<a href="#section-2.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2-7">Another example, combining
the use of inline and end-of-line comments:<a href="#section-2.2-7" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.2-8">
<pre>
{
 /kty/ 1 : 4, # Symmetric
 /alg/ 3 : 5, # HMAC 256-256
  /k/ -1 : h'6684523ab17337f173500e5728c628547cb37df
             e68449c65f885d1b73b49eae1'
}
</pre><a href="#section-2.2-8" class="pilcrow">¶</a>
</div>
<p id="section-2.2-9">This reduces to <code>{1: 4, 3: 5, -1: h'6684523AB17337F173500E5728C628547CB37DFE68449C65F885D1B73B49EAE1'}</code>.<a href="#section-2.2-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="encoding-indicators">
<section id="section-2.3">
        <h3 id="name-encoding-indicators">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-encoding-indicators" class="section-name selfRef">Encoding Indicators</a>
        </h3>
<p id="section-2.3-1">Sometimes it is useful to indicate in the diagnostic notation which of
several alternative representations were actually used; for example, a
data item written »1.5« by a diagnostic decoder might have been
encoded as a half-, single-, or double-precision float.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">The convention for encoding indicators is that anything starting with
an underscore and all immediately following characters that are alphanumeric or
underscore is an encoding indicator, and can be ignored by anyone not
interested in this information.  For example, <code>_</code> or <code>_3</code>.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<p id="section-2.3-3">Encoding indicators are always optional.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3-4">Encoding indicators are placed immediately to the right of the data
item or of a syntactic feature that can stand for the data item the
encoding of which the encoding indicator is controlling.
<a href="#tab-ei" class="auto internal xref">Table 1</a> provides examples for encoding indicators used with various
kinds of data items.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
<span id="name-examples-of-encoding-indica"></span><div id="tab-ei">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-examples-of-encoding-indica" class="selfRef">Examples of Encoding Indicators for Different Data Items<br>(mt = major type)</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">mt</th>
              <th class="text-left" rowspan="1" colspan="1">examples</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1_1</code>, <code>0x4711_3</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>-1_1</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>'A'_1</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>"A"_1</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">4</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>[_1 "bar"]</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">5</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>{_1 "bar": 1}</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">6</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1_1(4711)</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">7</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1.5_2</code>, <code>0x4711p+03_3</code>
</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-2.3-6">(In the following, an abbreviation of the form <code>ai=</code>nn gives nn as
the numeric value of the field <em>additional information</em>, the low-order 5
bits of the initial byte: see Section <a href="https://rfc-editor.org/rfc/rfc8949#section-3" class="relref">3</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>.
This field is used in encoding the "argument", i.e., the value, tag, or
length; <code>ai=0</code> to <code>ai=23</code> mean that the value of the <code>ai</code> field
immediately <em>is</em> the argument, <code>ai=24</code> to <code>ai=27</code> mean that the
argument is carried in 2<sup>ai-24</sup> (1, 2, 4, or 8)
additional bytes, and <code>ai=31</code> means that indefinite length
encoding is used.)<a href="#section-2.3-6" class="pilcrow">¶</a></p>
<p id="section-2.3-7">An underscore followed by a decimal digit <code>n</code> indicates that the
preceding item (or, for arrays and maps, the item starting with the
preceding bracket or brace) was encoded with an additional information
value of <code>ai=</code>24+<code>n</code>.  For example, <code>1.5_1</code> is a half-precision floating-point
number (2<sup>1</sup> = 2 additional bytes or 16 bits), while <code>1.5_3</code> is encoded as
double precision (2<sup>3</sup> = 8 additional bytes or 64 bits).<a href="#section-2.3-7" class="pilcrow">¶</a></p>
<p id="section-2.3-8">The encoding indicator <code>_</code> is an abbreviation of what would in full
form be <code>_7</code>, which is not used.
Therefore, an underscore <code>_</code> on its own stands for indefinite length
encoding (<code>ai=31</code>).
(Note that this encoding indicator is only available behind the opening
brace/bracket for <code>map</code> and <code>array</code> (<a href="#ei-container" class="auto internal xref">Section 2.6.1</a>): strings have a special syntax
<code>streamstring</code> for indefinite length encoding except for the special
cases <code>''_</code> and <code>""_</code> (<a href="#ei-string" class="auto internal xref">Section 2.5.4</a>).)<a href="#section-2.3-8" class="pilcrow">¶</a></p>
<p id="section-2.3-9">The encoding indicators <code>_0</code> to <code>_3</code> can be used to indicate <code>ai=24</code>
to <code>ai=27</code>, respectively; they therefore stand for 1, 2, 4, and 8
bytes of additional information (ai) following the initial byte in the
head of the data item.
(The abbreviation of <code>_7</code> into <code>_</code> was discussed above.
<code>_4</code> to <code>_6</code> are not currently used in CBOR, but will be available if
and when CBOR is extended to make use of <code>ai=28</code> to <code>ai=30</code>.)<a href="#section-2.3-9" class="pilcrow">¶</a></p>
<p id="section-2.3-10">Surprisingly, Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8.1" class="relref">8.1</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> does not address <code>ai=0</code> to
<code>ai=23</code> — the assumption seems to have been that preferred serialization
(Section <a href="https://rfc-editor.org/rfc/rfc8949#section-4.1" class="relref">4.1</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>) will be used when converting CBOR
diagnostic notation to an encoded CBOR data item, so leaving out the
encoding indicator for a data item with a preferred serialization
will implicitly use <code>ai=0</code> to <code>ai=23</code> if that is possible.
The present specification allows making this explicit:<a href="#section-2.3-10" class="pilcrow">¶</a></p>
<p id="section-2.3-11"><code>_i</code> ("immediate") stands for encoding with <code>ai=0</code> to <code>ai=23</code>, i.e.,
it indicates that the argument is encoded directly in the initial byte
of the CBOR item.<a href="#section-2.3-11" class="pilcrow">¶</a></p>
<p id="section-2.3-12">While no pressing use for further values for encoding indicators
comes to mind, this is an extension point for EDN; <a href="#reg-ei" class="auto internal xref">Section 6.2</a> defines
a registry for additional values.<a href="#section-2.3-12" class="pilcrow">¶</a></p>
<p id="section-2.3-13">Encoding Indicators are discussed in further detail in <a href="#ei-string" class="auto internal xref">Section 2.5.4</a> for
indefinite length strings and in <a href="#ei-container" class="auto internal xref">Section 2.6.1</a> for arrays and maps.<a href="#section-2.3-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="numbers">
<section id="section-2.4">
        <h3 id="name-numbers">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-numbers" class="section-name selfRef">Numbers</a>
        </h3>
<p id="section-2.4-1">In addition to JSON's decimal number literals, EDN provides hexadecimal, octal,
and binary number literals in the usual C-language notation (octal with 0o
prefix present only).<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">Numbers composed only of digits (of the respective base) are
interpreted as CBOR integers (major type 0/1, or where the number
cannot be represented in this way, major type 6 with tag 2/3).
A leading "<code>+</code>" sign is a no-op, and a leading "<code>-</code>" sign inverts the
sign of the number.
So <code>0</code>, <code>000</code>, <code>+0</code> all represent the same integer zero, as does <code>-0</code>.
Similarly,
<code>1</code>, <code>001</code>, <code>+1</code> and <code>+0001</code> all stand for the same integer one, and
<code>-1</code> and <code>-0001</code> both designate the same integer minus one.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4-3">Using a decimal point (<code>.</code>) and/or an exponent (<code>e</code> for decimal, <code>p</code>
for hexadecimal) turns the number into a floating point number (major
type 7) instead, irrespective of whether it is an integral number
mathematically.
Note that, in floating point numbers, <code>0.0</code> is not the same number as
<code>-0.0</code>, even if they are mathematically equal.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">In <a href="#tab-numbers" class="auto internal xref">Table 2</a>, all the items on a row are the same number (also
shown in CBOR, hexadecimally), but they are distinct from items in a
different row.<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<span id="name-example-sets-of-equivalent-"></span><div id="tab-numbers">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-example-sets-of-equivalent-" class="selfRef">Example Sets of Equivalent Notations for Some Numbers</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">EDN</th>
              <th class="text-left" rowspan="1" colspan="1">CBOR hex</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>4711</code>, <code>0x1267</code>, <code>0o11147</code>, <code>0b1001001100111</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>19 1267</code> # uint</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1.5</code>, <code>0.15e1</code>, <code>15e-1</code>, <code>0x1.8p0</code>, <code>0x18p-4</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>F9 3E00</code> # float16</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>0</code>, <code>+0</code>, <code>-0</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>00     </code> # uint</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>0.0</code>, <code>+0.0</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>F9 0000</code> # float16</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>-0.0</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>F9 8000</code> # float16</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-2.4-6">The non-finite floating-point numbers <code>Infinity</code>, <code>-Infinity</code>, and <code>NaN</code> are
written exactly as in this sentence (this is also a way they can be
written in JavaScript, although JSON does not allow them).<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<p id="section-2.4-7">See <a href="#decnumber" class="auto internal xref">Section 5.1, Paragraph 7, Item 3</a> for additional details of the EDN number syntax.<a href="#section-2.4-7" class="pilcrow">¶</a></p>
<p id="section-2.4-8">(Note that literals for further number formats, e.g., for representing
rational numbers as fractions, or for NaNs with non-zero payloads, can
be added as application-oriented literals.
Background information beyond that in <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> about the representation
of numbers in CBOR can be found in the informational document
<span>[<a href="#I-D.bormann-cbor-numbers" class="cite xref">I-D.bormann-cbor-numbers</a>]</span>.)<a href="#section-2.4-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="strings">
<section id="section-2.5">
        <h3 id="name-strings">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-strings" class="section-name selfRef">Strings</a>
        </h3>
<p id="section-2.5-1">CBOR distinguishes two kinds of strings: text strings (the bytes in
the string constitute UTF-8 <span>[<a href="#STD63" class="cite xref">STD63</a>]</span> text, major type 3), and byte strings
(CBOR does not further characterize the bytes that constitute the
string, major type 2).<a href="#section-2.5-1" class="pilcrow">¶</a></p>
<div id="text-string-literals">
<section id="section-2.5.1">
          <h4 id="name-text-string-literals">
<a href="#section-2.5.1" class="section-number selfRef">2.5.1. </a><a href="#name-text-string-literals" class="section-name selfRef">Text String Literals</a>
          </h4>
<p id="section-2.5.1-1">EDN notates text strings in a form compatible to that of notating text
strings in JSON (i.e., as a double-quoted string literal), with a
number of usability extensions.
In JSON, no control characters are allowed to occur
directly in text string literals; if needed, they can be specified using
escapes such as <code>\t</code> or <code>\r</code>.
In EDN, string literals additionally can contain newlines (LINEFEED
U+000A), which are copied into the resulting string like other
characters in the string literal.
To deal with variability in platform presentation of newlines, any
carriage return characters (U+000D) that may be present in the EDN
string literal are not copied into the resulting string (see <a href="#cr" class="auto internal xref">Section 5.1, Paragraph 7, Item 2</a>).
No other control characters can occur directly in a string literal,
and the handling of escaped characters (<code>\r</code> etc.) is as in JSON.<a href="#section-2.5.1-1" class="pilcrow">¶</a></p>
<p id="section-2.5.1-2">JSON's escape scheme for characters that are not on Unicode's basic
multilingual plane (BMP) is cumbersome (see Section <a href="https://rfc-editor.org/rfc/rfc8259#section-7" class="relref">7</a> of RFC 8259 <span>[<a href="#STD90" class="cite xref">STD90</a>]</span>).
EDN keeps it, but also adds the syntax <code>\u{NNN}</code> where NNN is the
Unicode scalar value as a hexadecimal number.
This means the following are equivalent (the first <code>o</code> is escaped as
<code>\u{6f}</code> for no particular reason):<a href="#section-2.5.1-2" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.5.1-3">
<pre>
"D\u{6f}mino's \u{1F073} + \u{2318}"   # \u{}-escape 3 chars
"Domino's \uD83C\uDC73 + \u2318"       # escape JSON-like
"Domino's 🁳 + ⌘"                       # unescaped
</pre><a href="#section-2.5.1-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="byte-string-literals">
<section id="section-2.5.2">
          <h4 id="name-byte-string-literals">
<a href="#section-2.5.2" class="section-number selfRef">2.5.2. </a><a href="#name-byte-string-literals" class="section-name selfRef">Byte String Literals</a>
          </h4>
<p id="section-2.5.2-1">EDN adds a number of ways to notate byte strings, some of which
provide detailed access to the bits within those bytes (see
<a href="#encoded-byte-strings" class="auto internal xref">Section 2.5.5</a>).
However, quite often, byte strings carry bytes that can be meaningfully
notated as UTF-8 text (<a href="#sq-lit" class="auto internal xref">Section 2.5.3</a>).<a href="#section-2.5.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sq-lit">
<section id="section-2.5.3">
          <h4 id="name-single-quoted-string-litera">
<a href="#section-2.5.3" class="section-number selfRef">2.5.3. </a><a href="#name-single-quoted-string-litera" class="section-name selfRef">Single-Quoted String Literals</a>
          </h4>
<p id="section-2.5.3-1">Analogously to text string literals delimited by double quotes, EDN
allows the use of single quotes (without a prefix) to express byte
string literals with UTF-8 text; for instance, the following are
equivalent:<a href="#section-2.5.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.5.3-2">
<pre>
'hello world'
h'68656c6c6f20776f726c64'
</pre><a href="#section-2.5.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.5.3-3">The escaping rules of JSON strings are applied equivalently for
text-based byte string literals, e.g., <code>\\</code> stands for a single
backslash and <code>\'</code> stands for a single quote.
However, to facilitate parsing, in single-quoted strings EDN excludes
certain escaping mechanisms available for double-quoted strings:<a href="#section-2.5.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.5.3-4.1">
              <p id="section-2.5.3-4.1.1"><code>\/</code> is an escape in JSON that is available for EDN text strings as
well to ensure all JSON texts are EDN literals.
Since EDN's single-quoted strings to not occur in JSON, this legacy
compatibility feature is not available for them.<a href="#section-2.5.3-4.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-2.5.3-4.2">
              <p id="section-2.5.3-4.2.1"><code>\u</code>-based escapes are not available for characters in the range
from U+0020 to U+007e (essentially, printable ASCII).<a href="#section-2.5.3-4.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-2.5.3-5">Single-quoted string literals can occur unprefixed and stand for the
byte string that encodes its text string value (the "content"), or be
prefixed by what looks like an application-extension prefix (see
<a href="#app-lit" class="auto internal xref">Section 2.1</a>).<a href="#section-2.5.3-5" class="pilcrow">¶</a></p>
<p id="section-2.5.3-6">In a prefixed string literal, the text content of the single-quoted
string literal is not used directly as a byte string, but is further
processed in a way that is defined by the meaning given to the prefix.
Depending on the prefix, the result of that processing can, but need
not be, a byte string value.<a href="#section-2.5.3-6" class="pilcrow">¶</a></p>
<p id="section-2.5.3-7">Prefixed string literals (which are always single-quoted after the
prefix) are used both for base-encoded byte string literals (see <a href="#encoded-byte-strings" class="auto internal xref">Section 2.5.5</a>) and for
application-oriented extension literals (see <a href="#app-lit" class="auto internal xref">Section 2.1</a>, called app-string).
(Additional kinds of base-encoded string literals can be defined as
application-oriented extension literals by registering their prefixes;
there is no fundamental difference between the two predefined
base-encoded string literal prefixes (<code>h</code>, <code>b64</code>) and any such potential
future extension literal prefixes.)<a href="#section-2.5.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ei-string">
<section id="section-2.5.4">
          <h4 id="name-encoding-indicators-of-stri">
<a href="#section-2.5.4" class="section-number selfRef">2.5.4. </a><a href="#name-encoding-indicators-of-stri" class="section-name selfRef">Encoding Indicators of Strings</a>
          </h4>
<p id="section-2.5.4-1">For indefinite length encoding, strings (byte and text strings) have a
special syntax <code>streamstring</code>.
This is used (except for the special cases <code>''_</code> and <code>""_</code> below) to
notate their detailed composition into individual "chunks" (Section <a href="https://rfc-editor.org/rfc/rfc8949#section-3.2.3" class="relref">3.2.3</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>), by representing the individual chunks in
sequence within parentheses, each optionally followed by a comma, with
an encoding indicator <code>_</code> immediately after the opening parenthesis:
e.g., <code>(_ h'0123', h'4567')</code> or <code>(_ "foo", "bar")</code>.
The overall type (byte string or text string) of the string is
provided by the types of the individual chunks, which all need to be
of the same type (Section <a href="https://rfc-editor.org/rfc/rfc8949#section-3.2.3" class="relref">3.2.3</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>).<a href="#section-2.5.4-1" class="pilcrow">¶</a></p>
<p id="section-2.5.4-2">For an indefinite-length string with no chunks inside, <code>(_ )</code>
would be ambiguous as to whether a byte string (encoded 0x5fff) or a text string
(encoded 0x7fff) is meant and is therefore not used.
The basic forms <code>''_</code> and <code>""_</code> can be used instead and are reserved for
the case of no chunks only --- not as short forms for the (permitted,
but not really useful) encodings with only empty chunks, which
need to be notated as <code>(_ '')</code>, <code>(_ "")</code>, etc.,
when it is desired to preserve the chunk structure.<a href="#section-2.5.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="encoded-byte-strings">
<section id="section-2.5.5">
          <h4 id="name-base-encoded-byte-string-li">
<a href="#section-2.5.5" class="section-number selfRef">2.5.5. </a><a href="#name-base-encoded-byte-string-li" class="section-name selfRef">Base-Encoded Byte String Literals</a>
          </h4>
<p id="section-2.5.5-1">Besides the unprefixed byte string literals that are analogous to JSON text
string literals, EDN provides base-encoded byte string literals.
These are notated as prefixed string literals that carry one of the base encodings <span>[<a href="#RFC4648" class="cite xref">RFC4648</a>]</span>, without
padding, i.e., the base encoding is
enclosed in a single-quoted string literal, prefixed by »h« for base16 or
»b64« for base64 or base64url (the actual encodings of the latter do
not overlap, so the string remains unambiguous).
For example, the byte string consisting of the four bytes <code>12 34 56 78</code>
(given in hexadecimal here) could be written <code>h'12345678'</code> or <code>b64'EjRWeA'</code>.<a href="#section-2.5.5-1" class="pilcrow">¶</a></p>
<aside id="section-2.5.5-2">
            <p id="section-2.5.5-2.1">(Note that Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">8</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> also mentions »b32« for
base32 and »h32« for base32hex.
This has not been implemented widely
and therefore is not directly included in this specification.
These and further byte string formats now can easily be added back as
application-oriented extension literals.)<a href="#section-2.5.5-2.1" class="pilcrow">¶</a></p>
</aside>
<p id="section-2.5.5-3">Examples often benefit from some blank space (spaces, line breaks) in
byte strings literals.
In certain EDN prefixed byte string literals, blank space is ignored; for
instance, the following are equivalent:<a href="#section-2.5.5-3" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.5.5-4">
<pre>
   h'48656c6c6f20776f726c64'
   h'48 65 6c 6c 6f 20 77 6f 72 6c 64'
   h'4 86 56c 6c6f
     20776 f726c64'
</pre><a href="#section-2.5.5-4" class="pilcrow">¶</a>
</div>
<p id="section-2.5.5-5">The internal syntax of prefixed single-quote literals such
as <code>h''</code> and <code>b64''</code> can also allow comments as blank space (see <a href="#comments" class="auto internal xref">Section 2.2</a>).<a href="#section-2.5.5-5" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.5.5-6">
<pre>
   h'68656c6c6f20776f726c64'
   h'68 65 6c /doubled l!/ 6c 6f # hello
     20 /space/
     77 6f 72 6c 64' /world/
</pre><a href="#section-2.5.5-6" class="pilcrow">¶</a>
</div>
<p id="section-2.5.5-7">Slash characters are part of the base64 classic alphabet (see
Table 1 in <span><a href="https://rfc-editor.org/rfc/rfc4648#section-4" class="relref">Section 4</a> of [<a href="#RFC4648" class="cite xref">RFC4648</a>]</span>), and they therefore need be in the
<code>b64''</code> set of characters that contribute to the byte string.
Therefore, only end-of-line comments are available in b64 byte string
literals.<a href="#section-2.5.5-7" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.5.5-8">
<pre>
   b64'/base64 not a comment/ but one follows # comment'
   h'FDB6AC 7BAE27A2D69CA2699E9EDFDBBADA2779FA25 968C2C'
</pre><a href="#section-2.5.5-8" class="pilcrow">¶</a>
</div>
<p id="section-2.5.5-9">These two byte string literals stand for the same byte string; the
deliberately confusing base64 content starts with
<code>b64'/bas'</code> which is the same as h'FDB6AC' and ends with b64'lows'
which is the same as <code>h'968C2C'</code>.<a href="#section-2.5.5-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="embedded">
<section id="section-2.5.6">
          <h4 id="name-cbor-sequence-literals">
<a href="#section-2.5.6" class="section-number selfRef">2.5.6. </a><a href="#name-cbor-sequence-literals" class="section-name selfRef">CBOR Sequence Literals</a>
          </h4>
<p id="section-2.5.6-1">In diagnostic notation, a sequence of zero or more CBOR data item literals can
be enclosed in <code>&lt;&lt;</code> and <code>&gt;&gt;</code>, optionally prefixed by an
application-extension prefix; we speak of <em>sequence literals</em>.
EDN mainly deals with individual data items, not with CBOR sequences
<span>[<a href="#RFC8742" class="cite xref">RFC8742</a>]</span>, so the CBOR sequence represented by the sequence literal needs
to be further processed to obtain the value of the literal.<a href="#section-2.5.6-1" class="pilcrow">¶</a></p>
<p id="section-2.5.6-2">Prefixed sequence literals refer to the application extension (see
<a href="#app-lit" class="auto internal xref">Section 2.1</a>) identified by the prefix and apply the extension to its
sequence content, resulting in a single data item.
This data item may be a string or may not (always) be, depending on
the definition of the application extension.<a href="#section-2.5.6-2" class="pilcrow">¶</a></p>
<p id="section-2.5.6-3">An unprefixed sequence literal applies CBOR encoding to the
data items in its content, taken as a CBOR sequence.
The value of the
literal thus is a byte string with the encoded content; we also speak of
<em>embedded CBOR</em>.
For instance, each pair of columns in the following are equivalent:<a href="#section-2.5.6-3" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.5.6-4">
<pre>
   &lt;&lt;1&gt;&gt;              h'01'
   &lt;&lt;1, 2&gt;&gt;           h'0102'
   &lt;&lt;"hello", null&gt;&gt;  h'65 68656c6c6f f6'
   &lt;&lt;&gt;&gt;               h''
</pre><a href="#section-2.5.6-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="text-validity">
<section id="section-2.5.7">
          <h4 id="name-validity-of-text-strings">
<a href="#section-2.5.7" class="section-number selfRef">2.5.7. </a><a href="#name-validity-of-text-strings" class="section-name selfRef">Validity of Text Strings</a>
          </h4>
<p id="section-2.5.7-1">To be valid CBOR, Section <a href="https://rfc-editor.org/rfc/rfc8949#section-5.3.1" class="relref">5.3.1</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> requires that text
strings are byte sequences in UTF-8 <span>[<a href="#STD63" class="cite xref">STD63</a>]</span> form.
EDN provides several ways to construct such byte strings (see <a href="#concat" class="auto internal xref">Section 5.1, Paragraph 7, Item 7</a>
for details).
These mechanisms might operate on subsequences that do not themselves
constitute UTF-8, e.g., by building larger sequences out of
concatenating the subsequences; for validity of a text string
resulting from these mechanisms it is only of importance that the
result is UTF-8.
Both double-quoted and single-quoted string literals have been defined
such that they lead to byte sequences that are UTF-8: the source
language of EDN is UTF-8, and all escaping mechanisms lead only to
adding further UTF-8 characters.
Only prefixed string literals, other application-extensions, or
in certain cases concatenation (<a href="#concat" class="auto internal xref">Section 5.1, Paragraph 7, Item 7</a>) can generate non-UTF-8 byte
sequences.<a href="#section-2.5.7-1" class="pilcrow">¶</a></p>
<p id="section-2.5.7-2">As discussed at the start of <a href="#diagnostic-notation" class="auto internal xref">Section 2</a>, EDN
implementations <span class="bcp14">MAY</span> support generation and possibly ingestion of EDN
for CBOR data items that are well-formed but not valid; when this is
enabled, such implementations <span class="bcp14">MAY</span> relax the requirement on text
strings to be valid UTF-8.<a href="#section-2.5.7-2" class="pilcrow">¶</a></p>
<p id="section-2.5.7-3">Note that neither CBOR about its text strings nor EDN about its source
language make any requirements except for conformance to <span>[<a href="#STD63" class="cite xref">STD63</a>]</span>.
No additional Unicode processing or validation such as normalization
or checking whether a scalar value is actually assigned is foreseen by
EDN, particularly not any processing that is dependent on a specific
Unicode version.
Such processing, if offered, <span class="bcp14">MUST NOT</span> get in the way of processing the
data item represented in EDN (i.e., it may be appropriate to issue
warnings but not to error out or to generate output that does not match
the input at the UTF-8 level).<a href="#section-2.5.7-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="arrays-and-maps">
<section id="section-2.6">
        <h3 id="name-arrays-and-maps">
<a href="#section-2.6" class="section-number selfRef">2.6. </a><a href="#name-arrays-and-maps" class="section-name selfRef">Arrays and Maps</a>
        </h3>
<p id="section-2.6-1">EDN borrows the JSON syntax for arrays and maps.
(Maps are called objects in JSON.)<a href="#section-2.6-1" class="pilcrow">¶</a></p>
<p id="section-2.6-2">For maps, EDN extends the JSON syntax by allowing any data item in the
map key position (before the colon).<a href="#section-2.6-2" class="pilcrow">¶</a></p>
<p id="section-2.6-3">JSON requires the use of a comma as a separator character between
the elements of an array as well as between the members (key/value
pairs) of a map.
(These commas also were required in the original diagnostic
notation defined in <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> and <span>[<a href="#RFC8610" class="cite xref">RFC8610</a>]</span>.)
The separator commas are now optional in the places where EDN syntax
allows commas.
(Stylistically, leaving out the commas is more idiomatic when they
occur at line breaks.)<a href="#section-2.6-3" class="pilcrow">¶</a></p>
<p id="section-2.6-4">In addition, EDN also allows, but does not require, a trailing comma before the closing bracket/brace,
enabling an easier to maintain "terminator" style of their use.<a href="#section-2.6-4" class="pilcrow">¶</a></p>
<p id="section-2.6-5">In summary, the following eight examples are all equivalent:<a href="#section-2.6-5" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.6-6">
<pre>
[1, 2, 3]
[1, 2, 3,]
[1  2  3]
[1  2  3,]
[1  2, 3]
[1  2, 3,]
[1, 2  3]
[1, 2  3,]
</pre><a href="#section-2.6-6" class="pilcrow">¶</a>
</div>
<p id="section-2.6-7">as are<a href="#section-2.6-7" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.6-8">
<pre>
{1: "n", "x": "a"}
{1: "n", "x": "a",}
{1: "n"  "x": "a"}
# etc.
</pre><a href="#section-2.6-8" class="pilcrow">¶</a>
</div>
<aside id="section-2.6-9">
          <p id="section-2.6-9.1">CDDL's comma separators in the equivalent contexts (CDDL groups) are
  entirely optional
  (and actually are terminators, which together with their optionality
  allows them to be used like separators as well, or even not at all).
  In summary, comma use is now aligned between EDN and CDDL, in a
  fully backwards compatible way.<a href="#section-2.6-9.1" class="pilcrow">¶</a></p>
</aside>
<div id="ei-container">
<section id="section-2.6.1">
          <h4 id="name-encoding-indicators-of-arra">
<a href="#section-2.6.1" class="section-number selfRef">2.6.1. </a><a href="#name-encoding-indicators-of-arra" class="section-name selfRef">Encoding Indicators of Arrays and Maps</a>
          </h4>
<p id="section-2.6.1-1">A single underscore can be written after the opening brace of a map or
the opening bracket of an array to indicate that the data item was
represented in indefinite-length format.  For example, <code>[_ 1, 2]</code>
contains an indicator that an indefinite-length representation was
used to represent the data item <code>[1, 2]</code>.<a href="#section-2.6.1-1" class="pilcrow">¶</a></p>
<p id="section-2.6.1-2">At the same position, encoding indicators for specifying the size of
the array or map head for definite-length format can be used instead,
specifically <code>_i</code> or <code>_0</code> to <code>_3</code>.  For example <code>[_0 false, true]</code> can be
used to specify the encoding of the array <code>[false, true]</code> as <code>98 02 f4 f5</code>.<a href="#section-2.6.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="map-validity">
<section id="section-2.6.2">
          <h4 id="name-validity-of-maps">
<a href="#section-2.6.2" class="section-number selfRef">2.6.2. </a><a href="#name-validity-of-maps" class="section-name selfRef">Validity of Maps</a>
          </h4>
<p id="section-2.6.2-1">As discussed at the start of <a href="#diagnostic-notation" class="auto internal xref">Section 2</a>, EDN implementations <span class="bcp14">MAY</span> support
generation and possibly ingestion of EDN for CBOR data items that are
well-formed but not valid (Section <a href="https://rfc-editor.org/rfc/rfc8949#section-5.3" class="relref">5.3</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>).<a href="#section-2.6.2-1" class="pilcrow">¶</a></p>
<p id="section-2.6.2-2">For maps, this is relevant for map keys that occur more than once, as in:<a href="#section-2.6.2-2" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-2.6.2-3">
<pre>
{1: "to", 1: "fro"}
</pre><a href="#section-2.6.2-3" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="tags">
<section id="section-2.7">
        <h3 id="name-tags">
<a href="#section-2.7" class="section-number selfRef">2.7. </a><a href="#name-tags" class="section-name selfRef">Tags</a>
        </h3>
<p id="section-2.7-1">A tag is
written as a decimal unsigned integer for the tag number, followed by the tag content
in parentheses; for instance, a date in the format specified by RFC 3339
(ISO 8601) could be
notated as:<a href="#section-2.7-1" class="pilcrow">¶</a></p>
<p style="margin-left: 2.5em" id="section-2.7-2">0("2013-03-21T20:04:00Z")<a href="#section-2.7-2" class="pilcrow">¶</a></p>
<p id="section-2.7-3">or the equivalent epoch-based time as the following:<a href="#section-2.7-3" class="pilcrow">¶</a></p>
<p style="margin-left: 2.5em" id="section-2.7-4">1(1363896240)<a href="#section-2.7-4" class="pilcrow">¶</a></p>
<p id="section-2.7-5">The tag number can be followed by an encoding indicator giving the
encoding of the tag head.  For example:<a href="#section-2.7-5" class="pilcrow">¶</a></p>
<p style="margin-left: 2.5em" id="section-2.7-6">1_1(1363896240)<a href="#section-2.7-6" class="pilcrow">¶</a></p>
<p id="section-2.7-7">(assuming preferred encoding for the tag content) is encoded as<a href="#section-2.7-7" class="pilcrow">¶</a></p>
<div class="lang-cbor-pretty sourcecode" id="section-2.7-8">
<pre>
d9 0001        # tag(1)
   1a 514b67b0 # unsigned(1363896240)
</pre><a href="#section-2.7-8" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="simple-values">
<section id="section-2.8">
        <h3 id="name-simple-values">
<a href="#section-2.8" class="section-number selfRef">2.8. </a><a href="#name-simple-values" class="section-name selfRef">Simple values</a>
        </h3>
<p id="section-2.8-1">EDN uses JSON syntax for the simple values True (»<code>true</code>«), False
(»<code>false</code>«), and Null (»<code>null</code>«).
Undefined is written »<code>undefined</code>« as in JavaScript.<a href="#section-2.8-1" class="pilcrow">¶</a></p>
<p id="section-2.8-2">These and all other simple values can be given as "simple()" with the
appropriate integer in the parentheses.  For example, »<code>simple(42)</code>«
indicates major type 7, value 42, and »<code>simple(0x14)</code>« indicates
»<code>false</code>«, as does »<code>simple(20)</code>« or »<code>simple(0b10100)</code>«.<a href="#section-2.8-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="app-ext">
<section id="section-3">
      <h2 id="name-application-oriented-extensi">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-application-oriented-extensi" class="section-name selfRef">Application-Oriented Extension Literals</a>
      </h2>
<p id="section-3-1">This document extends the syntax used in diagnostic notation to also
enable application-oriented extensions.
This section defines a number of application-oriented extensions.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="dt">
<section id="section-3.1">
        <h3 id="name-the-dt-extension">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-the-dt-extension" class="section-name selfRef">The "dt" Extension</a>
        </h3>
<p id="section-3.1-1">The application-extension identifier "dt" is used to notate a
date/time literal that can be used as an Epoch-Based Date/Time as per
Section <a href="https://rfc-editor.org/rfc/rfc8949#section-3.4.2" class="relref">3.4.2</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">The content of the literal is a single Standard Date/Time String as per
Section <a href="https://rfc-editor.org/rfc/rfc8949#section-3.4.1" class="relref">3.4.1</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>, as a text or byte string.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">The value of the literal is a number representing the result of a
conversion of the given Standard Date/Time String to an Epoch-Based
Date/Time.
If fractional seconds are given in the text (production
<code>time-secfrac</code> in <a href="#abnf-grammar-dt" class="auto internal xref">Figure 4</a>), the value is a
floating-point number; the value is an integer number otherwise.
In the all-upper-case variant of the app-prefix, the value is enclosed
in a tag number 1.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">Each row of <a href="#tab-equiv-dt" class="auto internal xref">Table 3</a> shows an example of "dt" notation and
equivalent notation not using an application-extension identifier.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<span id="name-dt-and-dt-literals-vs-plain"></span><div id="tab-equiv-dt">
<table class="center" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-dt-and-dt-literals-vs-plain" class="selfRef">dt and DT literals vs. plain EDN</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">dt literal</th>
              <th class="text-left" rowspan="1" colspan="1">plain EDN</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>dt'1969-07-21T02:56:16Z'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>-14159024</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>dt'1969-07-21T02:56:16.0Z'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>-14159024.0</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>dt'1969-07-21T02:56:16.5Z'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>-14159023.5</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>dt&lt;&lt;'1969-07-21T02:56:16.5Z'&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>-14159023.5</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>dt&lt;&lt;"1969-07-21T02:56:16.5Z"&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>-14159023.5</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>DT'1969-07-21T02:56:16Z'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>1(-14159024)</code>
</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-3.1-6">See <a href="#dt-grammar" class="auto internal xref">Section 5.2.3</a> for an ABNF definition for the content of <code>dt</code> literals.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ip">
<section id="section-3.2">
        <h3 id="name-the-ip-extension">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-the-ip-extension" class="section-name selfRef">The "ip" Extension</a>
        </h3>
<p id="section-3.2-1">The application-extension identifier "ip" is used to notate an IP
address literal that can be used as an IP address as per <span><a href="https://rfc-editor.org/rfc/rfc9164#section-3" class="relref">Section 3</a> of [<a href="#RFC9164" class="cite xref">RFC9164</a>]</span>.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">The content of the literal is a single IPv4address or IPv6address as per
<span><a href="https://rfc-editor.org/rfc/rfc3986#section-3.2.2" class="relref">Section 3.2.2</a> of [<a href="#RFC3986" class="cite xref">RFC3986</a>]</span>, as a text or byte string.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">With the lower-case app-string prefix <code>ip</code>, the value of the literal is a
byte string representing the binary IP address.
With the upper-case app-string prefix <code>IP</code>, the literal is such a byte string
tagged with tag number 54, if an IPv6address is used, or tag number
52, if an IPv4address is used.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">As an additional case, the upper-case app-string prefix <code>IP''</code> can be used
with an IP address prefix such as <code>2001:db8::/56</code> or <code>192.0.2.0/24</code>, with the equivalent tag as its value.
(Note that <span>[<a href="#RFC9164" class="cite xref">RFC9164</a>]</span> representations of address prefixes need to
implement the truncation of the address byte string as described in
<span><a href="https://rfc-editor.org/rfc/rfc9164#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC9164" class="cite xref">RFC9164</a>]</span>; see example below.)
For completeness, the lower-case variant <code>ip'2001:db8::/56'</code> or  <code>ip'192.0.2.0/24'</code> stands for
an unwrapped <code>[56,h'20010db8']</code> or <code>[24,h'c00002']</code>; however, in this case the information
on whether an address is IPv4 or IPv6 often needs to come from the context.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">Note that this application-extension provides no direct representation
of the "Interface format"
defined in <span><a href="https://rfc-editor.org/rfc/rfc9164#section-3.1.3" class="relref">Section 3.1.3</a> of [<a href="#RFC9164" class="cite xref">RFC9164</a>]</span>, an address combined with an
optional prefix length and an optional zone identifier, and therefore
no way to reference a zone identifier at all.
(If needed, this format can be put together by building their
structures explicitly, e.g., an interface format without a zone
identifier can be represented as in <code>52([ip'192.0.2.42',24])</code>, or an
interface format with zone identifier 42 as in
<code>54([ip'fe80::0202:02ff:ffff:fe03:0303',64,42])</code>.)<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">Each row of <a href="#tab-equiv-ip" class="auto internal xref">Table 4</a> shows an example of "ip" notation and
equivalent notation not using an application-extension identifier.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<span id="name-ip-and-ip-literals-vs-plain"></span><div id="tab-equiv-ip">
<table class="center" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-ip-and-ip-literals-vs-plain" class="selfRef">ip and IP literals vs. plain EDN</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">ip literal</th>
              <th class="text-left" rowspan="1" colspan="1">plain EDN</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ip'192.0.2.42'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>h'c000022a'</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ip&lt;&lt;'192.0.2.42'&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>h'c000022a'</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>IP'192.0.2.42'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>52(h'c000022a')</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>IP'192.0.2.0/24'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>52([24,h'c00002'])</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ip'2001:db8::42'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>h'20010db8000000000000000000000042'</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>IP'2001:db8::42'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>54(h'20010db8000000000000000000000042')</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>IP'2001:db8::/64'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>54([64,h'20010db8'])</code>
</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-3.2-8">See <a href="#ip-grammar" class="auto internal xref">Section 5.2.4</a> for an ABNF definition for the content of <code>ip</code> literals.<a href="#section-3.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="hash">
<section id="section-3.3">
        <h3 id="name-the-hash-extension">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-the-hash-extension" class="section-name selfRef">The "hash" Extension</a>
        </h3>
<p id="section-3.3-1">The application-extension identifier "hash" is used to notate the
input to a cryptographic hash function as well as identify such a hash
function to obtain a byte string that represents the output of that
hash function.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">The content of the literal is a string, optionally followed by either
an integer or a text string that identifies the hash function in the
COSE Algorithms registry of the CBOR Object Signing and Encryption
(COSE) registry group <span>[<a href="#IANA.cose" class="cite xref">IANA.cose</a>]</span>, either by the identifier (value:
integer or string), or, if no algorithm is registered with this value,
by its name used in the registry.
If the second item is not given, the default algorithm used is -16
("SHA-256").<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">No uppercase variant prefix is defined for the application-extension
identifier "hash".<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<span id="name-hash-literals-vs-plain-edn"></span><div id="tab-equiv-hash">
<table class="center" id="table-5">
          <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-hash-literals-vs-plain-edn" class="selfRef">hash literals vs. plain EDN</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">hash literal</th>
              <th class="text-left" rowspan="1" colspan="1">plain EDN</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>hash&lt;&lt;'foo'&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">h'2C26B46B68FFC68FF99B453C1D304134<br>13422D706483BFA0F98A5E886266E7AE'</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>hash'foo'</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">h'2C26B46B68FFC68FF99B453C1D304134<br>13422D706483BFA0F98A5E886266E7AE'</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>hash&lt;&lt;'foo', -16&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">h'2C26B46B68FFC68FF99B453C1D304134<br>13422D706483BFA0F98A5E886266E7AE'</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>hash&lt;&lt;'foo', "SHA-256"&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">h'2C26B46B68FFC68FF99B453C1D304134<br>13422D706483BFA0F98A5E886266E7AE'</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>hash&lt;&lt;'foo', -44&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">h'F7FBBA6E0636F890E56FBBF3283E524C<br>6FA3204AE298382D624741D0DC663832<br>6E282C41BE5E4254D8820772C5518A2C<br>5A8C0C7F7EDA19594A7EB539453E1ED7'</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>hash&lt;&lt;'foo', "SHA-512"&gt;&gt;</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">h'F7FBBA6E0636F890E56FBBF3283E524C<br>6FA3204AE298382D624741D0DC663832<br>6E282C41BE5E4254D8820772C5518A2C<br>5A8C0C7F7EDA19594A7EB539453E1ED7'</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<div id="stand-in">
<section id="section-4">
      <h2 id="name-stand-in-representations-in">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-stand-in-representations-in" class="section-name selfRef">Stand-in Representations in Binary CBOR</a>
      </h2>
<p id="section-4-1">In some cases, an EDN consumer cannot construct actual CBOR items that
represent the CBOR data intended for eventual interchange.
This document defines stand-in representation for two such cases:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">
          <p id="section-4-2.1.1">The EDN consumer does not know (or does not implement) an
application-extension identifier used in the EDN document
(<a href="#unknown" class="auto internal xref">Section 4.1</a>) but wants to preserve the information for a later
processor.<a href="#section-4-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-4-2.2">
          <p id="section-4-2.2.1">The generator of some EDN intended for human consumption (such as in
a specification document) may not want to include parts of the final
data item, destructively replacing complete subtrees or possibly
just parts of a lengthy string by <em>elisions</em> (<a href="#elision" class="auto internal xref">Section 4.2</a>).<a href="#section-4-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-4-3">Implementation note:
Typically, the ultimate applications will fail if they encounter tags
unknown to them, which the ones defined in this section likely are.
Where chains of tools are involved in processing EDN, it may be useful
to fail earlier than at the ultimate receiver in the chain unless
specific processing options (e.g., command line flags) are given that
indicate which of these stand-ins are expected at this stage in the
chain.<a href="#section-4-3" class="pilcrow">¶</a></p>
<div id="unknown">
<section id="section-4.1">
        <h3 id="name-handling-unknown-applicatio">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-handling-unknown-applicatio" class="section-name selfRef">Handling unknown application-extension identifiers</a>
        </h3>
<p id="section-4.1-1">When ingesting CBOR diagnostic notation, any
application-oriented extension literals are usually decoded and
transformed into the corresponding data item during ingestion.
If an application-extension is not known or not implemented by the
ingesting process, this is usually an error and processing has to
stop.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">However, in certain cases, it can be desirable to exceptionally carry an
uninterpreted application-oriented extension literal in an ingested
data item, allowing to postpone its decoding to a specific later
stage of ingestion.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">This specification defines a CBOR Tag for this purpose:
The Diagnostic Notation Unresolved Application-Extension Tag, tag
number CPA999 (<a href="#iana-standin" class="auto internal xref">Section 6.5</a>).
The content of this tag is an array of a text string for the
application-extension identifier, and another array:<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.1">
            <p id="section-4.1-4.1.1">For app-strings, the second array contains a single item, a text
string containing the text notated by the single-quoted string in the
app-string.<a href="#section-4.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-4.2">
            <p id="section-4.1-4.2.1">For app-sequences, the second array contains zero or more items,
which represent each item in the sequence contained in the
app-sequence.<a href="#section-4.1-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-5">For example, <code>cri'https://example.com'</code> can be represented as
<code>/CPA/ 999(["cri", ["https://example.com"]])</code>, or
<code>hash&lt;&lt;"data", -44&gt;&gt;</code> as <code>/CPA/ 999(["hash", ["data", -44]])</code>.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">If a stage of ingestion is not prepared to handle the Unresolved
Application-Extension Tag, this is an error and processing has to
stop, as if this stage had been ingesting an unknown or unimplemented
application-extension literal itself.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7"><span class="cref" id="cpa">RFC-Editor: This document uses the CPA (code point allocation)
  convention described in [I-D.bormann-cbor-draft-numbers].  For
  each usage of the term "CPA", please remove the prefix "CPA"
  from the indicated value and replace the residue with the value
  assigned by IANA; perform an analogous substitution for all other
  occurrences of the prefix "CPA" in the document.  Finally,
  please remove this note.</span><a href="#section-4.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="elision">
<section id="section-4.2">
        <h3 id="name-handling-information-delibe">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-handling-information-delibe" class="section-name selfRef">Handling information deliberately elided from an EDN document</a>
        </h3>
<p id="section-4.2-1">When using EDN for exposition in a document or on a whiteboard, it is
often useful to be able to leave out parts of an EDN document that are
not of interest at that point of the exposition.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">To facilitate this, this specification
supports the use of an <em>ellipsis</em> (notated as three or more dots
in a row, as in <code>...</code>) to indicate parts of an EDN document that have
been elided (and therefore cannot be reconstructed).<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Upon ingesting EDN as a representation of a CBOR data item for further
processing, the occurrence of an ellipsis usually is an error and
processing has to stop.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">However, it is useful to be able to process EDN documents with
ellipses in the automation scripts for the documents using them.
This specification defines a CBOR Tag that can be used in the ingestion
for this purpose:
The Diagnostic Notation Ellipsis Tag, tag number CPA888 (<a href="#iana-standin" class="auto internal xref">Section 6.5</a>).
The content of this tag either is<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.2-5">
<li id="section-4.2-5.1">
            <p id="section-4.2-5.1.1">null (indicating a data item entirely replaced by an ellipsis), or it is<a href="#section-4.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-4.2-5.2">
            <p id="section-4.2-5.2.1">an array, the elements of which are alternating between fragments
of a string and the actual elisions, represented as ellipses
carrying a null as content.<a href="#section-4.2-5.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="section-4.2-6">Elisions can stand in for entire subtrees, e.g. in:<a href="#section-4.2-6" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-4.2-7">
<pre>
[1, 2, ..., 3]
{ "a": 1,
  "b": ...,
  ...: ...
}
</pre><a href="#section-4.2-7" class="pilcrow">¶</a>
</div>
<p id="section-4.2-8">A single ellipsis (or key/value pair of ellipses) can imply eliding
multiple elements in an array (members in a map); if more detailed
control is required, a data definition language such as CDDL can be
employed.
(Note that the stand-in form defined here does not allow multiple
key/value pairs with an ellipsis as a key: the CBOR data item would
not be valid.)<a href="#section-4.2-8" class="pilcrow">¶</a></p>
<p id="section-4.2-9">Subtree elisions can be represented in a CBOR data item by using
<code>/CPA/888(null)</code> as the stand-in:<a href="#section-4.2-9" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-4.2-10">
<pre>
[1, 2, 888(null), 3]
{ "a": 1,
  "b": 888(null),
  888(null): 888(null)
}
</pre><a href="#section-4.2-10" class="pilcrow">¶</a>
</div>
<p id="section-4.2-11">Elisions also can be used as part of a (text or byte) string:<a href="#section-4.2-11" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-4.2-12">
<pre>
{ "contract": "Herewith I buy" + ... + "gned: Alice &amp; Bob",
  "bytes_in_IRI": 'https://a.example/' + ... + '&amp;q=Übergrößenträger',
  "signature": h'4711...0815',
}
</pre><a href="#section-4.2-12" class="pilcrow">¶</a>
</div>
<p id="section-4.2-13">The example "contract" combines string concatenation via the <code>+</code>
operator (<a href="#grammar" class="auto internal xref">Section 5.1</a>) with
ellipses; while the example
"signature" uses special syntax that allows the use of ellipses
between the bytes notated <em>inside</em> <code>h''</code> literals.<a href="#section-4.2-13" class="pilcrow">¶</a></p>
<p id="section-4.2-14">String elisions can be represented in a CBOR data item by a stand-in
that wraps an array of string fragments alternating with ellipsis
indicators:<a href="#section-4.2-14" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-4.2-15">
<pre>
{ "contract": /CPA/888(["Herewith I buy", 888(null),
                        "gned: Alice &amp; Bob"]),
  "bytes_in_IRI": 888(['https://a.example/', 888(null),
                       '&amp;q=Übergrößenträger']),
  "signature": 888([h'4711', 888(null), h'0815']),
}
</pre><a href="#section-4.2-15" class="pilcrow">¶</a>
</div>
<p id="section-4.2-16">Note that the use of elisions is different from "commenting out" EDN
text, e.g.:<a href="#section-4.2-16" class="pilcrow">¶</a></p>
<div class="lang-cbor-diag sourcecode" id="section-4.2-17">
<pre>
{ "signature": h'4711/.../0815',
  # ...: ...
}
</pre><a href="#section-4.2-17" class="pilcrow">¶</a>
</div>
<p id="section-4.2-18">The consumer of this EDN will ignore the comments and therefore will
have no idea after ingestion that some information has been elided;
validation steps may then simply fail instead of being informed about
the elisions.<a href="#section-4.2-18" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="grammars">
<section id="section-5">
      <h2 id="name-abnf-definitions">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-abnf-definitions" class="section-name selfRef">ABNF Definitions</a>
      </h2>
<p id="section-5-1">This section collects grammars in ABNF form (<span>[<a href="#STD68" class="cite xref">STD68</a>]</span> as extended in
<span>[<a href="#RFC7405" class="cite xref">RFC7405</a>]</span>) that serve to define the syntax of EDN and some
application-oriented literals.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Implementation note: The ABNF definitions in this section are
intended to be useful in a Parsing Expression Grammar (PEG) parser
interpretation (see <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-A" class="relref">Appendix A</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> for an introduction into PEG).<a href="#section-5-2" class="pilcrow">¶</a></p>
<div id="grammar">
<section id="section-5.1">
        <h3 id="name-overall-abnf-definition-for">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-overall-abnf-definition-for" class="section-name selfRef">Overall ABNF Definition for Extended Diagnostic Notation</a>
        </h3>
<p id="section-5.1-1">This subsection provides an overall ABNF definition for the syntax of
CBOR extended diagnostic notation.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<aside id="section-5.1-2">
          <p id="section-5.1-2.1">This ABNF definition treats all single-quoted string literals the same,
whether they are unprefixed and constitute byte string literals, or
prefixed and their content subject to further processing.
The text string value of the single-quoted strings that goes into that
further processing is described using separate ABNF definitions in
<a href="#app-grammars" class="auto internal xref">Section 5.2</a>; as a convention, the grammar for the content of an
app-string with prefix, say, <code>p</code>, is described by an ABNF definition
with the rule name <code>app-string-p</code>.<a href="#section-5.1-2.1" class="pilcrow">¶</a></p>
<p id="section-5.1-2.2">As an implementation note, some implementations may want to integrate
the parsing and processing of app-string content for certain
application extensions with the overall grammar.
Example grammars for such integrated parsers are provided with this
specification in <a href="#integrated-grammars" class="auto internal xref">Section 5.3</a>.<a href="#section-5.1-2.2" class="pilcrow">¶</a></p>
</aside>
<p id="section-5.1-3">For simplicity, the internal parsing for the built-in EDN prefixes is
specified in the same way.
ABNF definitions for <code>h''</code> and <code>b64''</code> are provided in <a href="#h-grammar" class="auto internal xref">Section 5.2.1</a> and
<a href="#b64-grammar" class="auto internal xref">Section 5.2.2</a>.
However, the prefixes <code>b32''</code> and <code>h32''</code> are not in wide use and an
ABNF definition in this document could therefore not be based on
implementation experience.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<span id="name-overall-abnf-definition-of-"></span><div id="abnf-grammar">
<figure id="figure-1">
          <div class="breakable lang-abnf sourcecode" id="section-5.1-4.1">
<pre>
seq             = S [item *(MSC item) SOC]
one-item        = S item S
item            = map / array / tagged
                / number / simple
                / string / streamstring

string1         = (tstr / bstr) spec
string1e        = string1 / ellipsis
ellipsis        = 3*"." ; "..." or more dots
string          = string1e *(S "+" S string1e)

number          = (hexfloat / hexint / octint / binint
                   / decnumber / nonfin) spec
sign            = "+" / "-"
decnumber       = [sign] (1*DIGIT ["." *DIGIT] / "." 1*DIGIT)
                         ["e" [sign] 1*DIGIT]
hexfloat        = [sign] "0x" (1*HEXDIG ["." *HEXDIG] / "." 1*HEXDIG)
                         "p" [sign] 1*DIGIT
hexint          = [sign] "0x" 1*HEXDIG
octint          = [sign] "0o" 1*ODIGIT
binint          = [sign] "0b" 1*BDIGIT
nonfin          = %s"Infinity"
                / %s"-Infinity"
                / %s"NaN"
simple          = %s"false"
                / %s"true"
                / %s"null"
                / %s"undefined"
                / %s"simple(" S item S ")"
uint            = "0" / DIGIT1 *DIGIT
tagged          = uint spec "(" S item S ")"

app-prefix      = lcalpha *lcldh ; including h and b64
                / ucalpha *ucldh ; tagged variant, if defined
app-string      = app-prefix sqstr
app-sequence    = app-prefix "&lt;&lt;" seq "&gt;&gt;"
sqstr           = SQUOTE *single-quoted SQUOTE
bstr            = app-string / sqstr / app-sequence / embedded
                  ; app-string/-sequence could be any type
tstr            = DQUOTE *double-quoted DQUOTE
embedded        = "&lt;&lt;" seq "&gt;&gt;"

array           = "[" (specms S item *(MSC item) SOC / spec S) "]"
map             = "{" (specms S keyp *(MSC keyp) SOC / spec S) "}"
keyp            = item S ":" S item

; We allow %x09 HT in prose, but not in strings
blank           = %x09 / %x0A / %x0D / %x20
non-slash       = blank / %x21-2e / %x30-7F / NONASCII
non-lf          = %x09 / %x0D / %x20-7F / NONASCII
comment         = "/" *non-slash "/"
                / "#" *non-lf %x0A
; optional space
S               = *blank *(comment *blank)
; mandatory space
MS              = (blank/comment) S
; mandatory comma and/or space
MSC             = ("," S) / (MS ["," S])
; optional comma and/or space
SOC             = S ["," S]

; check semantically that strings are either all text or all bytes
; note that there must be at least one string to distinguish
streamstring    = "(_" MS string *(MSC string) SOC ")"
spec            = ["_" *wordchar]
specms          = ["_" *wordchar MS]

double-quoted   = unescaped
                / SQUOTE
                / "\" escapable-d

single-quoted   = unescaped
                / DQUOTE
                / "\" escapable-s

escapable1      = %s"b" ; BS backspace U+0008
                / %s"f" ; FF form feed U+000C
                / %s"n" ; LF line feed U+000A
                / %s"r" ; CR carriage return U+000D
                / %s"t" ; HT horizontal tab U+0009
                / "\"   ; \ backslash (reverse solidus) U+005C

escapable-d     = escapable1
                / DQUOTE
                / "/"   ; / slash (solidus) U+002F (JSON!)
                / (%s"u" hexchar) ;  uXXXX      U+XXXX

escapable-s     = escapable1
                / SQUOTE
                / (%s"u" hexchar-s) ;  uXXXX      U+XXXX

hexchar         = "{" (1*"0" [ hexscalar ] / hexscalar) "}"
                / non-surrogate
                / two-surrogate
non-surrogate   = ((DIGIT / "A"/"B"/"C" / "E"/"F") 3HEXDIG)
                / ("D" ODIGIT 2HEXDIG )
two-surrogate   = high-surrogate "\" %s"u" low-surrogate
high-surrogate  = "D" ("8"/"9"/"A"/"B") 2HEXDIG
low-surrogate   = "D" ("C"/"D"/"E"/"F") 2HEXDIG
hexscalar       = "10" 4HEXDIG / HEXDIG1 4HEXDIG
                / non-surrogate / 1*3HEXDIG

; single-quote hexchar-s: don't allow 0020..007e
hexchar-s       = "{" (1*"0" [ hexscalar-s ] / hexscalar-s) "}"
                / non-surrogate-s
                / two-surrogate
non-surrogate-s = "007F"                 ; rubout
                / "00" ("0"/"1"/"8"/"9"/HEXDIGA) HEXDIG
                / "0" HEXDIG1 2HEXDIG
                / non-surrogate-1
non-surrogate-1 = ((DIGIT1 / "A"/"B"/"C" / "E"/"F") 3HEXDIG)
                / ("D" ODIGIT 2HEXDIG )
hexscalar-s     = "10" 4HEXDIG / HEXDIG1 4HEXDIG
                / non-surrogate-1 / HEXDIG1 2HEXDIG
                / ("1"/"8"/"9"/HEXDIGA) HEXDIG
                / "7F"
                / HEXDIG1

; Note that no other C0 characters are allowed, including %x09 HT
unescaped       = %x0A ; new line
                / %x0D ; carriage return -- ignored on input
                / %x20-21
                     ; omit 0x22 "
                / %x23-26
                     ; omit 0x27 '
                / %x28-5B
                     ; omit 0x5C \
                / %x5D-7F
                / NONASCII

DQUOTE          = %x22    ; " double quote
SQUOTE          = "'"     ; ' single quote
DIGIT           = %x30-39 ; 0-9
DIGIT1          = %x31-39 ; 1-9
ODIGIT          = %x30-37 ; 0-7
BDIGIT          = %x30-31 ; 0-1
HEXDIGA         = "A" / "B" / "C" / "D" / "E" / "F"
; Note: double-quoted strings as in "A" are case-insensitive in ABNF
HEXDIG          = DIGIT / HEXDIGA
HEXDIG1         = DIGIT1 / HEXDIGA
lcalpha         = %x61-7A ; a-z
lcldh           = lcalpha / DIGIT / "-"
ucalpha         = %x41-5A ; A-Z
ucldh           = ucalpha / DIGIT / "-"
ALPHA           = lcalpha / ucalpha
wordchar        = "_" / ALPHA / DIGIT ; [_a-z0-9A-Z]
NONASCII        = %x80-D7FF / %xE000-10FFFF
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-overall-abnf-definition-of-" class="selfRef">Overall ABNF Definition of CBOR EDN</a>
          </figcaption></figure>
</div>
<p id="section-5.1-5">While an ABNF grammar defines the set of character strings that are
considered to be valid EDN by this ABNF, the mapping of these
character strings into the generic data model of CBOR is not always
obvious.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">The following additional items should help in the interpretation:<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.1-7">
<li id="section-5.1-7.1">
            <p id="section-5.1-7.1.1">As mentioned in the terminology (<a href="#terminology" class="auto internal xref">Section 1.2</a>), the ABNF terminal
  values in this document define Unicode scalar values (characters)
  rather than their UTF-8 encoding.  For example, the Unicode PLACE OF
  INTEREST SIGN (U+2318) would be defined in ABNF as %x2318.<a href="#section-5.1-7.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-5.1-7.2">
<div id="cr">
            <p id="section-5.1-7.2.1">Unicode CARRIAGE RETURN (U+000D, often seen escaped as "\r" in many
  programming languages) that exist in the input (unescaped) are
  ignored as if they were not in the input wherever they appear.
  This is most important when they are found in (text or byte) string
  contexts (see the "unescaped" ABNF rule).
  On some platforms, a carriage return is always added in front of a
  LINE FEED (U+000A, also often seen escaped as "\n" in many
  programming languages), but on other platforms, carriage returns are
  not used at line breaks.
  The intent behind ignoring unescaped carriage returns is to ensure
  that input generated or processed on either of these kinds of
  platforms will generate the same bytes in the CBOR data items
  created from that input.
  (Platforms that use just a CARRIAGE RETURN by itself to signify an end of line
  are no longer relevant and the files they produce are out of scope
  for this document.)
  If a carriage return is needed in the CBOR data item, it can be
  added explicitly using the escaped form <code>\r</code>.<a href="#section-5.1-7.2.1" class="pilcrow">¶</a></p>
</div>
          </li>
<li id="section-5.1-7.3">
<div id="decnumber">
            <p id="section-5.1-7.3.1"><code>decnumber</code> stands for an integer in the usual decimal notation, unless at
  least one of the optional parts starting with "." and "e" are
  present, in which case it stands for a floating point value in the
  usual decimal notation.  Note that the grammar now allows <code>3.</code> for
  <code>3.0</code> and <code>.3</code> for <code>0.3</code> (also for hexadecimal floating point
  below); implementers are advised that some platform numeric parsers
  accept only a subset of the floating point syntax in this document
  and may require some preprocessing to use here.<a href="#section-5.1-7.3.1" class="pilcrow">¶</a></p>
</div>
          </li>
<li id="section-5.1-7.4">
            <p id="section-5.1-7.4.1"><code>hexint</code>, <code>octint</code>, and <code>binint</code> stand for an integer in the usual base 16/hexadecimal
  ("0x"), base 8/octal ("0o"), or base 2/binary ("0b") notation.
  <code>hexfloat</code> stands
  for a floating point number in the usual hexadecimal notation (which
  uses a mantissa in hexadecimal and an exponent in decimal notation,
  see Section 5.12.3 of <span>[<a href="#IEEE754" class="cite xref">IEEE754</a>]</span>, Section 6.4.4.3 of <span>[<a href="#C" class="cite xref">C</a>]</span>, or Section
  5.13.4 of <span>[<a href="#Cplusplus" class="cite xref">Cplusplus</a>]</span>; floating-suffix/floating-point-suffix from
  the latter two is not used here).<a href="#section-5.1-7.4.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-5.1-7.5">
            <p id="section-5.1-7.5.1">For <code>hexint</code>, <code>octint</code>, <code>binint</code>, and when <code>decnumber</code> stands for an integer, the
  corresponding CBOR data item is represented using major type 0 or 1
  if possible, or using tag 2 or 3 if not.
  In the latter case, this specification does not define any encoding
  indicators that apply.
  If fine control over encoding is desired, this can be expressed by
  being explicit about the representation as a tag:
  E.g., <code>987654321098765432310</code>, which is equivalent to <code>2(h'35 8a 75
  04 38 f3 80 f5 f6')</code> in its preferred serialization, might be
  written as <code>2_3(h'00 00 00 35 8a 75 04 38 f3 80 f5 f6'_1)</code> if
  leading zeros need to be added during serialization to obtain
  specific sizes for tag head, byte string head, and the overall byte
  string.<a href="#section-5.1-7.5.1" class="pilcrow">¶</a></p>
<p id="section-5.1-7.5.2">
When <code>decnumber</code> stands for a floating point value, and for
<code>hexfloat</code> and <code>nonfin</code>, a floating point data item with major
type 7 is used in preferred serialization (unless modified by an
encoding indicator, which then needs to be <code>_1</code>, <code>_2</code>, or <code>_3</code>).
For this, the number range needs to fit into an <span>[<a href="#IEEE754" class="cite xref">IEEE754</a>]</span> binary64 (or the size
corresponding to the encoding indicator), and the precision will be
adjusted to binary64 before further applying preferred serialization
(or to the size corresponding to the encoding indicator).
Tag 4/5 representations are not generated in these cases.
Future app-prefixes could be defined to allow more control for
obtaining a tag 4/5 representation directly from a hex or decimal
floating point literal.<a href="#section-5.1-7.5.2" class="pilcrow">¶</a></p>
</li>
          <li id="section-5.1-7.6">
<div id="spec">
            <p id="section-5.1-7.6.1"><code>spec</code> stands for an encoding indicator.
  See <a href="#encoding-indicators" class="auto internal xref">Section 2.3</a> for details.<a href="#section-5.1-7.6.1" class="pilcrow">¶</a></p>
</div>
          </li>
<li id="section-5.1-7.7">
<div id="concat">
            <p id="section-5.1-7.7.1">Extended diagnostic notation allows a (text or byte) string to be
  built up from multiple (text or byte) string literals, separated by
  a <code>+</code> operator; these are then concatenated into a single string.<a href="#section-5.1-7.7.1" class="pilcrow">¶</a></p>
<p id="section-5.1-7.7.2"><code>string</code>, <code>string1e</code>, <code>string1</code>, and <code>ellipsis</code> realize: (1) the
representation of strings in this form split up into multiple
chunks, and (2) the use of ellipses to represent elisions
(<a href="#elision" class="auto internal xref">Section 4.2</a>).<a href="#section-5.1-7.7.2" class="pilcrow">¶</a></p>
<p id="section-5.1-7.7.3">
Note that the syntax defined here for concatenation of components
uses an explicit <code>+</code> operator between the components to be
concatenated (<span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G.4" class="relref">Appendix G.4</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> used simple juxtaposition,
which was not widely implemented and got in the way of making the use
of commas optional in other places via the rule <code>OC</code>).<a href="#section-5.1-7.7.3" class="pilcrow">¶</a></p>
<p id="section-5.1-7.7.4">
Text strings and byte strings do not mix within such a
concatenation, except that byte string literal notation can be used
inside a sequence of concatenated text string notation literals, to
encode characters that may be better represented in an encoded way.
The following four text string values (adapted from <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G.4" class="relref">Appendix G.4</a> of [<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> by updating to explicit <code>+</code> operators) are equivalent:<a href="#section-5.1-7.7.4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1-7.7.5">
<pre>
"Hello world"
"Hello " + "world"
"Hello" + h'20' + "world"
"" + h'48656c6c6f20776f726c64' + ""
</pre><a href="#section-5.1-7.7.5" class="pilcrow">¶</a>
</div>
<p id="section-5.1-7.7.6">
Similarly, the following byte string values are equivalent:<a href="#section-5.1-7.7.6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1-7.7.7">
<pre>
'Hello world'
'Hello ' + 'world'
'Hello ' + h'776f726c64'
'Hello' + h'20' + 'world'
'' + h'48656c6c6f20776f726c64' + '' + b64''
h'4 86 56c 6c6f' + h' 20776 f726c64'
</pre><a href="#section-5.1-7.7.7" class="pilcrow">¶</a>
</div>
<p id="section-5.1-7.7.8">
The semantic processing of these constructs is governed by the
following rules:<a href="#section-5.1-7.7.8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-7.7.9.1">
                <p id="section-5.1-7.7.9.1.1">A single <code>...</code> is a general ellipsis, which by itself can stand
for any data item.
Multiple adjacent concatenated ellipses are equivalent to a single
ellipsis.<a href="#section-5.1-7.7.9.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.1-7.7.9.2">
                <p id="section-5.1-7.7.9.2.1">An ellipsis can be concatenated (on one or both sides) with string
chunks (<code>string1</code>); the result is a CBOR tag number CPA888 that contains an
array with joined together spans of such chunks plus the ellipses
represented by <code>888(null)</code>.<a href="#section-5.1-7.7.9.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.1-7.7.9.3">
                <p id="section-5.1-7.7.9.3.1">If there is no ellipsis in the concatenated list, the result of
processing the list will always be a single item.<a href="#section-5.1-7.7.9.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.1-7.7.9.4">
                <p id="section-5.1-7.7.9.4.1">The bytes in the concatenated sequence of string chunks are simply
joined together, proceeding from left to right.
If the left hand side of a concatenation is a text string, the
joining operation results in a text string, and that
result needs to be valid UTF-8 except for implementations that
support and are enabled for generation/ingestion of EDN for CBOR
data items that are well-formed but not valid.
If the left hand side is a byte string, the right hand side also
needs to be a byte string.<a href="#section-5.1-7.7.9.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.1-7.7.9.5">
                <p id="section-5.1-7.7.9.5.1">Some of the strings may be app-strings.
If the result type of the app-string is an actual (text or byte)
string, joining of those string chunks occurs as with chunks
directly notated as string literals; otherwise the occurrence of more than
one app-string or an app-string together with a directly notated
string cannot be processed.
(This determination must be made at the time the app-string is
interpreted; see <a href="#unknown" class="auto internal xref">Section 4.1</a> for how this may not be immediately
during parsing.)<a href="#section-5.1-7.7.9.5.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</div>
        </li>
</ol>
</section>
</div>
<div id="app-grammars">
<section id="section-5.2">
        <h3 id="name-abnf-definitions-for-applic">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-abnf-definitions-for-applic" class="section-name selfRef">ABNF Definitions for Application Extension Content</a>
        </h3>
<p id="section-5.2-1">This subsection provides ABNF definitions for the content of
application-oriented extension literals defined in <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> and in this
specification, where applicable.
These grammars describe the <em>decoded</em> content of the <code>sqstr</code> components that
combine with the application-extension identifiers used as prefixes to form
application-oriented extension literals.
Each of these may integrate ABNF rules defined in <a href="#abnf-grammar" class="auto internal xref">Figure 1</a>,
which are not always repeated here.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2"><a href="#tab-prefixes" class="auto internal xref">Table 6</a> summarizes the app-prefix values defined in this document.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<span id="name-app-prefix-values-defined-i"></span><div id="tab-prefixes">
<table class="center" id="table-6">
          <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-app-prefix-values-defined-i" class="selfRef">App-prefix Values Defined in this Document</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">app-prefix</th>
              <th class="text-left" rowspan="1" colspan="1">content of single-quoted string</th>
              <th class="text-left" rowspan="1" colspan="1">result type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">h</td>
              <td class="text-left" rowspan="1" colspan="1">hexadecimal form of binary data</td>
              <td class="text-left" rowspan="1" colspan="1">byte string</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">H</td>
              <td class="text-left" rowspan="1" colspan="1">(not used)</td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">b64</td>
              <td class="text-left" rowspan="1" colspan="1">base64 forms (classic or base64url) of binary data</td>
              <td class="text-left" rowspan="1" colspan="1">byte string</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">B64</td>
              <td class="text-left" rowspan="1" colspan="1">(not used)</td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">dt</td>
              <td class="text-left" rowspan="1" colspan="1">RFC 3339 date/time</td>
              <td class="text-left" rowspan="1" colspan="1">number (int or float)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">DT</td>
              <td class="text-left" rowspan="1" colspan="1">"</td>
              <td class="text-left" rowspan="1" colspan="1">Tag 1 on the above</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">ip</td>
              <td class="text-left" rowspan="1" colspan="1">IP address or prefix</td>
              <td class="text-left" rowspan="1" colspan="1">byte string, <br>array of length and byte string</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">IP</td>
              <td class="text-left" rowspan="1" colspan="1">"</td>
              <td class="text-left" rowspan="1" colspan="1">Tag 54 (IPv6) or 52 (IPv4) on the above</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-5.2-4">Note that implementation platforms may already provide implementations
of grammars used in application-extensions, such as of RFC 3339 for
<code>dt''</code> and of IP address syntax for <code>ip''</code>.
EDN-based tools may want to use these implementation libraries instead
of using the grammars that are provided here as a reference.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<div id="h-grammar">
<section id="section-5.2.1">
          <h4 id="name-h-abnf-definition-of-hexade">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-h-abnf-definition-of-hexade" class="section-name selfRef">h: ABNF Definition of Hexadecimal representation of a byte string</a>
          </h4>
<p id="section-5.2.1-1">The syntax of the content of byte strings represented in hex,
such as <code>h''</code>, <code>h'0815'</code>, or <code>h'/head/ 63 /contents/ 66 6f 6f'</code>
(another representation of <code>&lt;&lt; "foo" &gt;&gt;</code>), is described by the ABNF in <a href="#abnf-grammar-h" class="auto internal xref">Figure 2</a>.
This syntax accommodates both lower case and upper case hex digits, as
well as blank space (including comments) around each hex digit.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<span id="name-abnf-definition-of-hexadeci"></span><div id="abnf-grammar-h">
<figure id="figure-2">
            <div class="lang-abnf sourcecode" id="section-5.2.1-2.1">
<pre>
app-string-h    = S *(HEXDIG S HEXDIG S / ellipsis S)
                  ["#" *non-lf]
ellipsis        = 3*"."
HEXDIG          = DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
DIGIT           = %x30-39 ; 0-9
blank           = %x09 / %x0A / %x0D / %x20
non-slash       = blank / %x21-2e / %x30-10FFFF
non-lf          = %x09 / %x0D / %x20-D7FF / %xE000-10FFFF
S               = *blank *(comment *blank )
comment         = "/" *non-slash "/"
                / "#" *non-lf %x0A
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-abnf-definition-of-hexadeci" class="selfRef">ABNF Definition of Hexadecimal Representation of a Byte String</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="b64-grammar">
<section id="section-5.2.2">
          <h4 id="name-b64-abnf-definition-of-base">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-b64-abnf-definition-of-base" class="section-name selfRef">b64: ABNF Definition of Base64 representation of a byte string</a>
          </h4>
<p id="section-5.2.2-1">The syntax of the content of byte strings represented in base64 is
described by the ABNF in <a href="#abnf-grammar-h" class="auto internal xref">Figure 2</a>.<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2.2-2">This syntax allows both the classic (<span><a href="https://rfc-editor.org/rfc/rfc4648#section-4" class="relref">Section 4</a> of [<a href="#RFC4648" class="cite xref">RFC4648</a>]</span>) and the
URL-safe (<span><a href="https://rfc-editor.org/rfc/rfc4648#section-5" class="relref">Section 5</a> of [<a href="#RFC4648" class="cite xref">RFC4648</a>]</span>) alphabet to be used.
It accommodates, but does not require base64 padding.
Note that inclusion of classic base64 makes it impossible to have
in-line comments in b64, as "/" is valid base64-classic.<a href="#section-5.2.2-2" class="pilcrow">¶</a></p>
<span id="name-abnf-definition-of-base64-r"></span><div id="abnf-grammar-b64">
<figure id="figure-3">
            <div class="lang-abnf sourcecode" id="section-5.2.2-3.1">
<pre>
app-string-b64  = B *(4(b64dig B))
                  [b64dig B b64dig B ["=" B "=" / b64dig B ["="]] B]
                  ["#" *inon-lf]
b64dig          = ALPHA / DIGIT / "-" / "_" / "+" / "/"
B               = *iblank *(icomment *iblank)
iblank          = %x0A / %x20  ; Not HT or CR (gone)
icomment        = "#" *inon-lf %x0A
inon-lf         = %x20-D7FF / %xE000-10FFFF
ALPHA           = %x41-5a / %x61-7a
DIGIT           = %x30-39
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-abnf-definition-of-base64-r" class="selfRef">ABNF definition of Base64 Representation of a Byte String</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="dt-grammar">
<section id="section-5.2.3">
          <h4 id="name-dt-abnf-definition-of-rfc-3">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-dt-abnf-definition-of-rfc-3" class="section-name selfRef">dt: ABNF Definition of RFC 3339 Representation of a Date/Time</a>
          </h4>
<p id="section-5.2.3-1">The syntax of the content of <code>dt</code> literals can be described by the
ABNF for <code>date-time</code> from <span>[<a href="#RFC3339" class="cite xref">RFC3339</a>]</span> as summarized in <span><a href="https://rfc-editor.org/rfc/rfc9165#section-3" class="relref">Section 3</a> of [<a href="#RFC9165" class="cite xref">RFC9165</a>]</span>:<a href="#section-5.2.3-1" class="pilcrow">¶</a></p>
<span id="name-abnf-definition-of-rfc3339-"></span><div id="abnf-grammar-dt">
<figure id="figure-4">
            <div class="lang-abnf sourcecode" id="section-5.2.3-2.1">
<pre>
app-string-dt   = date-time

date-fullyear   = 4DIGIT
date-month      = 2DIGIT  ; 01-12
date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                          ; month/year
time-hour       = 2DIGIT  ; 00-23
time-minute     = 2DIGIT  ; 00-59
time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap sec
                          ; rules
time-secfrac    = "." 1*DIGIT
time-numoffset  = ("+" / "-") time-hour ":" time-minute
time-offset     = "Z" / time-numoffset

partial-time    = time-hour ":" time-minute ":" time-second
                  [time-secfrac]
full-date       = date-fullyear "-" date-month "-" date-mday
full-time       = partial-time time-offset

date-time       = full-date "T" full-time
DIGIT           =  %x30-39 ; 0-9
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-abnf-definition-of-rfc3339-" class="selfRef">ABNF Definition of RFC3339 Representation of a Date/Time</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="ip-grammar">
<section id="section-5.2.4">
          <h4 id="name-ip-abnf-definition-of-textu">
<a href="#section-5.2.4" class="section-number selfRef">5.2.4. </a><a href="#name-ip-abnf-definition-of-textu" class="section-name selfRef">ip: ABNF Definition of Textual Representation of an IP Address</a>
          </h4>
<p id="section-5.2.4-1">The syntax of the content of <code>ip</code> literals can be described by the
ABNF for <code>IPv4address</code> and <code>IPv6address</code> in <span><a href="https://rfc-editor.org/rfc/rfc3986#section-3.2.2" class="relref">Section 3.2.2</a> of [<a href="#RFC3986" class="cite xref">RFC3986</a>]</span>,
as included in slightly updated form in <a href="#abnf-grammar-ip" class="auto internal xref">Figure 5</a>.<a href="#section-5.2.4-1" class="pilcrow">¶</a></p>
<span id="name-abnf-definition-of-textual-"></span><div id="abnf-grammar-ip">
<figure id="figure-5">
            <div class="lang-abnf sourcecode" id="section-5.2.4-2.1">
<pre>
app-string-ip = IPaddress ["/" uint]

IPaddress     = IPv4address
              / IPv6address

; ABNF from RFC 3986, re-arranged for PEG compatibility:

IPv6address   =                            6( h16 ":" ) ls32
              /                       "::" 5( h16 ":" ) ls32
              / [ h16               ] "::" 4( h16 ":" ) ls32
              / [ h16 *1( ":" h16 ) ] "::" 3( h16 ":" ) ls32
              / [ h16 *2( ":" h16 ) ] "::" 2( h16 ":" ) ls32
              / [ h16 *3( ":" h16 ) ] "::"    h16 ":"   ls32
              / [ h16 *4( ":" h16 ) ] "::"              ls32
              / [ h16 *5( ":" h16 ) ] "::"              h16
              / [ h16 *6( ":" h16 ) ] "::"

h16           = 1*4HEXDIG
ls32          = ( h16 ":" h16 ) / IPv4address
IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
dec-octet     = "25" %x30-35         ; 250-255
              / "2" %x30-34 DIGIT    ; 200-249
              / "1" 2DIGIT           ; 100-199
              / %x31-39 DIGIT        ; 10-99
              / DIGIT                ; 0-9

HEXDIG        = DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
DIGIT         = %x30-39 ; 0-9
DIGIT1        = %x31-39 ; 1-9
uint          = "0" / DIGIT1 *DIGIT
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-abnf-definition-of-textual-" class="selfRef">ABNF Definition of Textual Representation of an IP Address</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="integrated-grammars">
<section id="section-5.3">
        <h3 id="name-abnf-definitions-for-integr">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-abnf-definitions-for-integr" class="section-name selfRef">ABNF Definitions for Integrated Extension Parsers</a>
        </h3>
<p id="section-5.3-1">For some applications of EDN, it is an optimization to integrate
parsers for the content of some prefixed single-quoted string literals into
the main parser, handling both the string literal syntax (e.g., escapes such
as <code>\'</code> and <code>\\</code>) and the syntax of the extension content in one go.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">For application-extensions that only use printable ASCII characters
(from U+0020 to U+007E) minus single-quote <code>'</code> and backslash <code>\</code>, the ABNF
such as that given in <a href="#app-grammars" class="auto internal xref">Section 5.2</a> can be directly used as an
integrated parser, after adding some glue ABNF.
For instance, for app-string-dt, add an alternative to <code>bstr</code> that
points to a rule for prefixed single-quoted string literals (<a href="#abnf-grammar-sq-glue" class="auto internal xref">Figure 6</a>).<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<span id="name-glue-code-for-integrated-dt"></span><div id="abnf-grammar-sq-glue">
<figure id="figure-6">
          <div class="lang-abnf sourcecode" id="section-5.3-3.1">
<pre>
bstr            = sq-app-string-dt /
                  app-string / sqstr / app-sequence / embedded
sq-app-string-dt = (%s"dt'"/%s"DT'") app-string-dt "'"
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-glue-code-for-integrated-dt" class="selfRef">Glue Code for Integrated DT Parser</a>
          </figcaption></figure>
</div>
<p id="section-5.3-4">To facilitate writing integrated ABNF for more complex prefixed
string literals, the ABNF definitions in <a href="#abnf-grammar-sq" class="auto internal xref">Figure 7</a> may
be useful and are used in the rest of this section.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<span id="name-abnf-definitions-useful-for"></span><div id="abnf-grammar-sq">
<figure id="figure-7">
          <div class="lang-abnf sourcecode" id="section-5.3-5.1">
<pre>
i-HT =        %s"\t" / %s"\u" ("0009" / "{" *("0") "9}")
i-LF = %x0a / %s"\n" / %s"\u" ("000A" / "{" *("0") "A}")
i-CR = %x0d / %s"\r" / %s"\u" ("000D" / "{" *("0") "D}")

i-blank = i-LF / i-CR / " "
i-non-lf = i-HT / i-CR / %x20-26 / "\'" / %x28-5b
         / "\\" / %x5d-7f / i-NONASCII

i-NONASCII = NONASCII / %s"\u" ESCGE7F

; hex escaping for U+007F or greater
ESCGE7F = "D" ("8"/"9"/"A"/"B") 2HEXDIG
          %s"\u" "D" ("C"/"D"/"E"/"F") 2HEXDIG
        / FOURHEX1 / "0" HEXDIG1 2HEXDIG / "00" TWOHEX1
        / "{" *("0")
          ("10" 4HEXDIG / HEXDIG1 4HEXDIG
           / FOURHEX1 / HEXDIG1 2HEXDIG / TWOHEX1)
          "}"

; xxxx - 0xxx - Dhigh\uDloow
FOURHEX1 = (DIGIT1 / "A"/"B"/"C" / "E"/"F") 3HEXDIG
         / "D" ODIGIT 2HEXDIG
; 00xx - ASCII + 007F
TWOHEX1  = ("8"/"9" / HEXDIGA) HEXDIG / "7F"
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-abnf-definitions-useful-for" class="selfRef">ABNF Definitions Useful for Integrated Extension Parsers</a>
          </figcaption></figure>
</div>
<p id="section-5.3-6">Two subsections with ABNF for integrated parsers follow, one for <code>h''</code>,
and one for <code>b64''</code>.
There is no requirement for a new application-extension to supply ABNF
for an integrated parser (or any ABNF at all!), in particular if the
parsing function is likely to be fulfilled by a platform library.
If ABNF for the content of a single-quoted string is available in an
application-extension specification, ABNF for an integrated parser can
be written as a separate activity or also automatically derived.
At the time of writing, one example for a tool performing such a
derivation is available as open-source software <span>[<a href="#ABNFROB" class="cite xref">ABNFROB</a>]</span>.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
<div id="sq-h-grammar">
<section id="section-5.3.1">
          <h4 id="name-h-abnf-definition-of-integr">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-h-abnf-definition-of-integr" class="section-name selfRef">h: ABNF Definition of Integrated Parser</a>
          </h4>
<p id="section-5.3.1-1">With glue code similar to that in <a href="#abnf-grammar-sq-glue" class="auto internal xref">Figure 6</a>, ABNF such as
that shown in <a href="#abnf-grammar-sq-h" class="auto internal xref">Figure 8</a> can be used as an integrated parser
for <code>h''</code> prefixed single-quote strings.<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
<span id="name-abnf-definition-for-integra"></span><div id="abnf-grammar-sq-h">
<figure id="figure-8">
            <div class="lang-abnf sourcecode" id="section-5.3.1-2.1">
<pre>
sq-app-string-h = %s"h'" app-string-h "'"
app-string-h = h-S *(HEXDIG h-S HEXDIG h-S / ellipsis h-S)
    ["#" *(i-non-lf)]

h-S = *(i-blank) *(h-comment *(i-blank))
h-non-slash = i-blank / %x21-26 / "\'" / %x28-2e
            / %x30-5b / "\\" / %x5d-7f / i-NONASCII
h-comment = "/" *(h-non-slash) "/"
          / "#" *(i-non-lf) i-LF
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-abnf-definition-for-integra" class="selfRef">ABNF Definition for Integrated Hex Parser</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="sq-b64-grammar">
<section id="section-5.3.2">
          <h4 id="name-b64-abnf-definition-of-inte">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-b64-abnf-definition-of-inte" class="section-name selfRef">b64: ABNF Definition of Integrated Parser</a>
          </h4>
<p id="section-5.3.2-1">With glue code similar to that in <a href="#abnf-grammar-sq-glue" class="auto internal xref">Figure 6</a>, ABNF such as
that shown in <a href="#abnf-grammar-sq-b64" class="auto internal xref">Figure 9</a> can be used as an integrated parser
for <code>h''</code> prefixed single-quote strings.<a href="#section-5.3.2-1" class="pilcrow">¶</a></p>
<span id="name-abnf-definition-for-integrat"></span><div id="abnf-grammar-sq-b64">
<figure id="figure-9">
            <div class="lang-abnf sourcecode" id="section-5.3.2-2.1">
<pre>
sq-app-string-b64 = %s"b64'" app-string-b64 "'"
app-string-b64  = b64-S *(4(b64dig b64-S))
                  [b64dig b64-S b64dig b64-S
                   ["=" b64-S "=" / b64dig b64-S ["="]] b64-S]
                  ["#" *i-non-lf]
b64dig          = ALPHA / DIGIT / "-" / "_" / "+" / "/"
b64-S           = *i-blank *(b64-comment *i-blank)
b64-comment     = "#" *i-non-lf %x0A
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-abnf-definition-for-integrat" class="selfRef">ABNF Definition for Integrated Base64 Parser</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec-iana">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1"><span class="cref" id="to-be-removed">RFC Editor: please replace RFC-XXXX with the RFC
number of this RFC, [IANA.cbor-diagnostic-notation] with a
reference to the new registry group, and remove this note.</span><a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="appext-iana">
<section id="section-6.1">
        <h3 id="name-cbor-diagnostic-notation-ap">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-cbor-diagnostic-notation-ap" class="section-name selfRef">CBOR Diagnostic Notation Application-extension Identifiers Registry</a>
        </h3>
<p id="section-6.1-1">IANA is requested to create an "Application-Extension Identifiers"
registry in a new "CBOR Diagnostic Notation" registry group
[IANA.cbor-diagnostic-notation], with the policy "expert review"
(Section <a href="https://rfc-editor.org/rfc/rfc8126#section-4.5" class="relref">4.5</a> of RFC 8126 <span>[<a href="#BCP26" class="cite xref">BCP26</a>]</span>).<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<div id="de-instructions">
<p id="section-6.1-2">The experts are instructed to be frugal in the allocation of
application-extension identifiers that are suggestive of generally applicable semantics,
keeping them in reserve for application-extensions that are likely to enjoy wide
use and can make good use of their conciseness.
The expert is also instructed to direct the registrant to provide a
specification (Section <a href="https://rfc-editor.org/rfc/rfc8126#section-4.6" class="relref">4.6</a> of RFC 8126 <span>[<a href="#BCP26" class="cite xref">BCP26</a>]</span>), but can make exceptions,
for instance when a specification is not available at the time of
registration but is likely forthcoming.
If the expert becomes aware of application-extension identifiers that are deployed and
in use, they may also initiate a registration on their own if
they deem such a registration can avert potential future collisions.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
</div>
<p id="section-6.1-3">Each entry in the registry must include:<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.1-4">
          <dt id="section-6.1-4.1">Application-Extension Identifier:</dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.2">
            <p id="section-6.1-4.2.1">a lower case ASCII <span>[<a href="#STD80" class="cite xref">STD80</a>]</span> string that starts with a letter and can
contain letters, digits, and hyphens after that (<code>[a-z][a-z0-9-]*</code>).
No other entry in the registry can have the same
application-extension identifier.<a href="#section-6.1-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.4">
            <p id="section-6.1-4.4.1">a brief description<a href="#section-6.1-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.5">Change Controller:</dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.6">
            <p id="section-6.1-4.6.1">(see Section <a href="https://rfc-editor.org/rfc/rfc8126#section-2.3" class="relref">2.3</a> of RFC 8126 <span>[<a href="#BCP26" class="cite xref">BCP26</a>]</span>)<a href="#section-6.1-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.7">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.8">
            <p id="section-6.1-4.8.1">a reference document that provides a description of the
application-extension identifier<a href="#section-6.1-4.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.1-5">The initial content of the registry is shown in <a href="#tab-iana" class="auto internal xref">Table 7</a>; all
initial entries have the Change Controller "IETF".<a href="#section-6.1-5" class="pilcrow">¶</a></p>
<span id="name-initial-content-of-applicat"></span><div id="tab-iana">
<table class="center" id="table-7">
          <caption>
<a href="#table-7" class="selfRef">Table 7</a>:
<a href="#name-initial-content-of-applicat" class="selfRef">Initial Content of Application-extension Identifier Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Application-extension Identifier</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">h</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">b32</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">h32</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">b64</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">false</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">true</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">null</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">undefined</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">dt</td>
              <td class="text-left" rowspan="1" colspan="1">Date/Time</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">ip</td>
              <td class="text-left" rowspan="1" colspan="1">IP Address/Prefix</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="reg-ei">
<section id="section-6.2">
        <h3 id="name-encoding-indicators-2">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-encoding-indicators-2" class="section-name selfRef">Encoding Indicators</a>
        </h3>
<p id="section-6.2-1">IANA is requested to create an "Encoding Indicators"
registry in the newly created "CBOR Diagnostic Notation" registry group
[IANA.cbor-diagnostic-notation], with the policy "specification required"
(Section <a href="https://rfc-editor.org/rfc/rfc8126#section-4.6" class="relref">4.6</a> of RFC 8126 <span>[<a href="#BCP26" class="cite xref">BCP26</a>]</span>).<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<div id="de-instructions-ei">
<p id="section-6.2-2">The experts are instructed to be frugal in the allocation of
encoding indicators that are suggestive of generally applicable semantics,
keeping them in reserve for encoding indicator registrations that are likely to enjoy wide
use and can make good use of their conciseness.
If the expert becomes aware of encoding indicators that are deployed and
in use, they may also solicit a specification and initiate a registration on their own if
they deem such a registration can avert potential future collisions.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
</div>
<p id="section-6.2-3">Each entry in the registry must include:<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.2-4">
          <dt id="section-6.2-4.1">Encoding Indicator:</dt>
          <dd style="margin-left: 1.5em" id="section-6.2-4.2">
            <p id="section-6.2-4.2.1">an ASCII <span>[<a href="#STD80" class="cite xref">STD80</a>]</span> string that starts with an underscore letter and
can contain zero or more underscores, letters and digits after that
(<code>_[_A-Za-z0-9]*</code>). No other entry in the registry can have the same
Encoding Indicator.<a href="#section-6.2-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.3">Description:</dt>
          <dd style="margin-left: 1.5em" id="section-6.2-4.4">
            <p id="section-6.2-4.4.1">a brief description.
This description may employ an abbreviation of the form <code>ai=</code>nn,
where nn is the numeric value of the field <em>additional information</em>, the
low-order 5 bits of the initial byte (see Section <a href="https://rfc-editor.org/rfc/rfc8949#section-3" class="relref">3</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>).<a href="#section-6.2-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.5">Change Controller:</dt>
          <dd style="margin-left: 1.5em" id="section-6.2-4.6">
            <p id="section-6.2-4.6.1">(see Section <a href="https://rfc-editor.org/rfc/rfc8126#section-2.3" class="relref">2.3</a> of RFC 8126 <span>[<a href="#BCP26" class="cite xref">BCP26</a>]</span>)<a href="#section-6.2-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.7">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-6.2-4.8">
            <p id="section-6.2-4.8.1">a reference document that provides a description of the
application-extension identifier<a href="#section-6.2-4.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.2-5">The initial content of the registry is shown in <a href="#tab-iana-ei" class="auto internal xref">Table 8</a>; all
initial entries have the Change Controller "IETF".<a href="#section-6.2-5" class="pilcrow">¶</a></p>
<span id="name-initial-content-of-encoding"></span><div id="tab-iana-ei">
<table class="center" id="table-8">
          <caption>
<a href="#table-8" class="selfRef">Table 8</a>:
<a href="#name-initial-content-of-encoding" class="selfRef">Initial Content of Encoding Indicator Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Encoding Indicator</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_</td>
              <td class="text-left" rowspan="1" colspan="1">Indefinite Length Encoding (ai=31)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949, RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_i</td>
              <td class="text-left" rowspan="1" colspan="1">ai=0 to ai=23</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_0</td>
              <td class="text-left" rowspan="1" colspan="1">ai=24</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949, RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_1</td>
              <td class="text-left" rowspan="1" colspan="1">ai=25</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949, RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_2</td>
              <td class="text-left" rowspan="1" colspan="1">ai=26</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949, RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_3</td>
              <td class="text-left" rowspan="1" colspan="1">ai=27</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949, RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_4</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved (for ai=28)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_5</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved (for ai=29)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_6</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved (for ai=30)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">_7</td>
              <td class="text-left" rowspan="1" colspan="1">Reserved (see _)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC8949, RFC-XXXX</td>
            </tr>
          </tbody>
        </table>
</div>
<aside id="section-6.2-7">
          <p id="section-6.2-7.1">As the "Reference" column reflects, all the encoding indicators
initially registered are already defined in Section <a href="https://rfc-editor.org/rfc/rfc8949#section-8.1" class="relref">8.1</a> of RFC 8949 <span>[<a href="#STD94" class="cite xref">STD94</a>]</span>,
with the exception of <code>_i</code>, which is defined in <a href="#grammar" class="auto internal xref">Section 5.1</a> of the
present document.<a href="#section-6.2-7.1" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
<div id="media-type">
<section id="section-6.3">
        <h3 id="name-media-type">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-media-type" class="section-name selfRef">Media Type</a>
        </h3>
<p id="section-6.3-1">IANA is requested to add the following Media-Type to the "Media Types"
registry <span>[<a href="#IANA.media-types" class="cite xref">IANA.media-types</a>]</span>.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<span id="name-new-media-type-application-"></span><div id="new-media-type">
<table class="center" id="table-9">
          <caption>
<a href="#table-9" class="selfRef">Table 9</a>:
<a href="#name-new-media-type-application-" class="selfRef">New Media Type application/cbor-diagnostic</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Name</th>
              <th class="text-left" rowspan="1" colspan="1">Template</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">cbor-diagnostic</td>
              <td class="text-left" rowspan="1" colspan="1">application/cbor-diagnostic</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX, <a href="#media-type" class="auto internal xref">Section 6.3</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-6.3-3">
          <dt id="section-6.3-3.1">Type name:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.2">
            <p id="section-6.3-3.2.1">application<a href="#section-6.3-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.3">Subtype name:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.4">
            <p id="section-6.3-3.4.1">cbor-diagnostic<a href="#section-6.3-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.5">Required parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.6">
            <p id="section-6.3-3.6.1">N/A<a href="#section-6.3-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.7">Optional parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.8">
            <p id="section-6.3-3.8.1">N/A<a href="#section-6.3-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.9">Encoding considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.10">
            <p id="section-6.3-3.10.1">binary (UTF-8)<a href="#section-6.3-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.11">Security considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.12">
            <p id="section-6.3-3.12.1"><a href="#seccons" class="auto internal xref">Section 7</a> of RFC XXXX<a href="#section-6.3-3.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.13">Interoperability considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.14">
            <p id="section-6.3-3.14.1">none<a href="#section-6.3-3.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.15">Published specification:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.16">
            <p id="section-6.3-3.16.1"><a href="#media-type" class="auto internal xref">Section 6.3</a> of RFC XXXX<a href="#section-6.3-3.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.17">Applications that use this media type:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.18">
            <p id="section-6.3-3.18.1">Tools interchanging a human-readable form of CBOR<a href="#section-6.3-3.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.19">Fragment identifier considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.20">
            <p id="section-6.3-3.20.1">The syntax and semantics of fragment identifiers is as specified for
"application/cbor".  (At publication of RFC XXXX, there is no
fragment identification syntax defined for "application/cbor".)<a href="#section-6.3-3.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.21">Additional information:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.22">
            <p id="section-6.3-3.22.1"><br></p>
<span class="break"></span><dl class="dlParallel" id="section-6.3-3.22.2">
              <dt id="section-6.3-3.22.2.1">Deprecated alias names for this type:</dt>
              <dd style="margin-left: 1.5em" id="section-6.3-3.22.2.2">
                <p id="section-6.3-3.22.2.2.1">N/A<a href="#section-6.3-3.22.2.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-6.3-3.22.2.3">Magic number(s):</dt>
              <dd style="margin-left: 1.5em" id="section-6.3-3.22.2.4">
                <p id="section-6.3-3.22.2.4.1">N/A<a href="#section-6.3-3.22.2.4.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-6.3-3.22.2.5">File extension(s):</dt>
              <dd style="margin-left: 1.5em" id="section-6.3-3.22.2.6">
                <p id="section-6.3-3.22.2.6.1">.diag<a href="#section-6.3-3.22.2.6.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-6.3-3.22.2.7">Macintosh file type code(s):</dt>
              <dd style="margin-left: 1.5em" id="section-6.3-3.22.2.8">
                <p id="section-6.3-3.22.2.8.1">N/A<a href="#section-6.3-3.22.2.8.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.23">Person &amp; email address to contact for further information:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.24">
            <p id="section-6.3-3.24.1">CBOR WG mailing list (cbor@ietf.org),
or IETF Applications and Real-Time Area (art@ietf.org)<a href="#section-6.3-3.24.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.25">Intended usage:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.26">
            <p id="section-6.3-3.26.1">LIMITED USE<a href="#section-6.3-3.26.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.27">Restrictions on usage:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.28">
            <p id="section-6.3-3.28.1">CBOR diagnostic notation represents CBOR data items, which are the
format intended for actual interchange.
The media type application/cbor-diagnostic is intended to be used
within documents about CBOR data items, in diagnostics for human
consumption, and in other representations of CBOR data items that
are necessarily text-based such as in configuration files or other
data edited by humans, often under source-code control.<a href="#section-6.3-3.28.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.29">Author/Change controller:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.30">
            <p id="section-6.3-3.30.1">IETF<a href="#section-6.3-3.30.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.31">Provisional registration:</dt>
          <dd style="margin-left: 1.5em" id="section-6.3-3.32">
            <p id="section-6.3-3.32.1">no<a href="#section-6.3-3.32.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="content-format">
<section id="section-6.4">
        <h3 id="name-content-format">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-content-format" class="section-name selfRef">Content-Format</a>
        </h3>
<p id="section-6.4-1">IANA is requested to register a Content-Format number in the
<a href="https://www.iana.org/assignments/core-parameters#content-formats" class="relref">"CoAP Content-Formats"</a>
sub-registry, within the "Constrained RESTful Environments (CoRE)
Parameters" Registry <span>[<a href="#IANA.core-parameters" class="cite xref">IANA.core-parameters</a>]</span>, as follows:<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<span id="name-new-content-format-for-appl"></span><div id="tab-content-format">
<table class="center" id="table-10">
          <caption>
<a href="#table-10" class="selfRef">Table 10</a>:
<a href="#name-new-content-format-for-appl" class="selfRef">New Content-Format for application/cbor-diagnostic</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Content-Type</th>
              <th class="text-left" rowspan="1" colspan="1">Content Coding</th>
              <th class="text-left" rowspan="1" colspan="1">ID</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">application/cbor-diagnostic</td>
              <td class="text-left" rowspan="1" colspan="1">-</td>
              <td class="text-left" rowspan="1" colspan="1">TBD1</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-6.4-3">TBD1 is to be assigned from the space 256..9999, according to the
procedure "IETF Review or IESG Approval", preferably a number less
than 1000.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-standin">
<section id="section-6.5">
        <h3 id="name-stand-in-tags">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-stand-in-tags" class="section-name selfRef">Stand-in Tags</a>
        </h3>
<p id="section-6.5-1"><span class="cref" id="cpa_1">RFC-Editor: This document uses the CPA (code point allocation)
  convention described in [I-D.bormann-cbor-draft-numbers].  For
  each usage of the term "CPA", please remove the prefix "CPA"
  from the indicated value and replace the residue with the value
  assigned by IANA; perform an analogous substitution for all other
  occurrences of the prefix "CPA" in the document.  Finally,
  please remove this note.</span><a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">In the "CBOR Tags" registry <span>[<a href="#IANA.cbor-tags" class="cite xref">IANA.cbor-tags</a>]</span>, IANA is requested to assign the
tags in <a href="#tab-tag-values" class="auto internal xref">Table 11</a> from the "specification required" space
(suggested assignments: 888 and 999), with the present document as the
specification reference.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
<span id="name-values-for-tags"></span><div id="tab-tag-values">
<table class="center" id="table-11">
          <caption>
<a href="#table-11" class="selfRef">Table 11</a>:
<a href="#name-values-for-tags" class="selfRef">Values for Tags</a>
          </caption>
<thead>
            <tr>
              <th class="text-right" rowspan="1" colspan="1">Tag</th>
              <th class="text-left" rowspan="1" colspan="1">Data Item</th>
              <th class="text-left" rowspan="1" colspan="1">Semantics</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">CPA888</td>
              <td class="text-left" rowspan="1" colspan="1">null or array</td>
              <td class="text-left" rowspan="1" colspan="1">Diagnostic Notation Ellipsis</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">CPA999</td>
              <td class="text-left" rowspan="1" colspan="1">array</td>
              <td class="text-left" rowspan="1" colspan="1">Diagnostic Notation<br>Unresolved Application-Extension</td>
              <td class="text-left" rowspan="1" colspan="1">RFC-XXXX</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<div id="seccons">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security considerations</a>
      </h2>
<p id="section-7-1">The security considerations of <span>[<a href="#STD94" class="cite xref">STD94</a>]</span> and <span>[<a href="#RFC8610" class="cite xref">RFC8610</a>]</span> apply.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The EDN specification provides two explicit extension points,
application-extension identifiers (<a href="#appext-iana" class="auto internal xref">Section 6.1</a>) and encoding
indicators (<a href="#reg-ei" class="auto internal xref">Section 6.2</a>).
Extensions introduced this way can have their own security
considerations (see, e.g., <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-cbor-edn-e-ref-01#section-5" class="relref">Section 5</a> of [<a href="#I-D.ietf-cbor-edn-e-ref" class="cite xref">I-D.ietf-cbor-edn-e-ref</a>]</span>).
When implementing tools that support the use of EDN extensions, the
implementer needs to be careful not to inadvertently introduce a
vector for an attacker to invoke extensions not planned for by the
tool operator, who might not have considered security considerations
of specific extensions such as those posed by their use of
dereferenceable identifiers (<span><a href="https://datatracker.ietf.org/doc/html/draft-bormann-t2trg-deref-id-05#section-6" class="relref">Section 6</a> of [<a href="#I-D.bormann-t2trg-deref-id" class="cite xref">I-D.bormann-t2trg-deref-id</a>]</span>).
For instance, tools might require explicitly enabling the use of each
extension that is not on an allowlist.
This task can possibly be
made less onerous by combining it with a mechanism for supplying any
parameters controlling such an extension.<a href="#section-7-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-combined-references">
<section id="section-8">
      <h2 id="name-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-8.1">
        <h3 id="name-normative-references">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="BCP14">[BCP14]</dt>
        <dd>
<div class="refInstance">Best Current Practice 14, <span>&lt;<a href="https://www.rfc-editor.org/info/bcp14">https://www.rfc-editor.org/info/bcp14</a>&gt;</span>.<br><span>At the time of writing, this BCP comprises the following:</span>
</div>
<div class="refInstance" id="RFC2119">
            <span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </div>
<div class="refInstance" id="RFC8174">
            <span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
<dt id="BCP26">[BCP26]</dt>
        <dd>
<div class="refInstance">Best Current Practice 26, <span>&lt;<a href="https://www.rfc-editor.org/info/bcp26">https://www.rfc-editor.org/info/bcp26</a>&gt;</span>.<br><span>At the time of writing, this BCP comprises the following:</span>
</div>
<div class="refInstance" id="RFC8126">
            <span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
<dt id="C">[C]</dt>
        <dd>
<span class="refAuthor">International Organization for Standardization</span>, <span class="refTitle">"Information technology — Programming languages — C"</span>, <span class="refContent">Edition 5</span>, <span class="seriesInfo">ISO/IEC 9899:2024</span>, <time datetime="2024-10" class="refDate">October 2024</time>, <span>&lt;<a href="https://www.iso.org/standard/82075.html">https://www.iso.org/standard/82075.html</a>&gt;</span>. <span class="annotation"><br>
The standard is widely known as C23. Its technical content is also available via <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3220.pdf">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3220.pdf</a>.</span>
          </dd>
<dd class="break"></dd>
<dt id="Cplusplus">[Cplusplus]</dt>
        <dd>
<span class="refAuthor">International Organization for Standardization</span>, <span class="refTitle">"Programming languages — C++"</span>, <span class="refContent">Edition 7</span>, <span class="seriesInfo">ISO/IEC 14882:2024</span>, <time datetime="2024-10" class="refDate">October 2024</time>, <span>&lt;<a href="https://www.iso.org/standard/83626.html">https://www.iso.org/standard/83626.html</a>&gt;</span>. <span class="annotation"><br>
The standard is widely known as C++23. Its technical content is also available via <a href="https://open-std.org/jtc1/sc22/wg21/docs/papers/2023/n4950.pdf">https://open-std.org/jtc1/sc22/wg21/docs/papers/2023/n4950.pdf</a>.</span>
          </dd>
<dd class="break"></dd>
<dt id="IANA.cbor-tags">[IANA.cbor-tags]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR) Tags"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cbor-tags">https://www.iana.org/assignments/cbor-tags</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.core-parameters">[IANA.core-parameters]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Constrained RESTful Environments (CoRE) Parameters"</span>, <span>&lt;<a href="https://www.iana.org/assignments/core-parameters">https://www.iana.org/assignments/core-parameters</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.cose">[IANA.cose]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"CBOR Object Signing and Encryption (COSE)"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cose">https://www.iana.org/assignments/cose</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.media-types">[IANA.media-types]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Media Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE754">[IEEE754]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Floating-Point Arithmetic"</span>, <span class="seriesInfo">IEEE Std 754-2019</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2019.8766229</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8766229">https://ieeexplore.ieee.org/document/8766229</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3339">[RFC3339]</dt>
        <dd>
<span class="refAuthor">Klyne, G.</span> and <span class="refAuthor">C. Newman</span>, <span class="refTitle">"Date and Time on the Internet: Timestamps"</span>, <span class="seriesInfo">RFC 3339</span>, <span class="seriesInfo">DOI 10.17487/RFC3339</span>, <time datetime="2002-07" class="refDate">July 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3339">https://www.rfc-editor.org/rfc/rfc3339</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7405">[RFC7405]</dt>
        <dd>
<span class="refAuthor">Kyzivat, P.</span>, <span class="refTitle">"Case-Sensitive String Support in ABNF"</span>, <span class="seriesInfo">RFC 7405</span>, <span class="seriesInfo">DOI 10.17487/RFC7405</span>, <time datetime="2014-12" class="refDate">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7405">https://www.rfc-editor.org/rfc/rfc7405</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8742">[RFC8742]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR) Sequences"</span>, <span class="seriesInfo">RFC 8742</span>, <span class="seriesInfo">DOI 10.17487/RFC8742</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8742">https://www.rfc-editor.org/rfc/rfc8742</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9164">[RFC9164]</dt>
        <dd>
<span class="refAuthor">Richardson, M.</span> and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR) Tags for IPv4 and IPv6 Addresses and Prefixes"</span>, <span class="seriesInfo">RFC 9164</span>, <span class="seriesInfo">DOI 10.17487/RFC9164</span>, <time datetime="2021-12" class="refDate">December 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9164">https://www.rfc-editor.org/rfc/rfc9164</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9485">[RFC9485]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">T. Bray</span>, <span class="refTitle">"I-Regexp: An Interoperable Regular Expression Format"</span>, <span class="seriesInfo">RFC 9485</span>, <span class="seriesInfo">DOI 10.17487/RFC9485</span>, <time datetime="2023-10" class="refDate">October 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9485">https://www.rfc-editor.org/rfc/rfc9485</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD63">[STD63]</dt>
        <dd>
<div class="refInstance">Internet Standard 63, <span>&lt;<a href="https://www.rfc-editor.org/info/std63">https://www.rfc-editor.org/info/std63</a>&gt;</span>.<br><span>At the time of writing, this STD comprises the following:</span>
</div>
<div class="refInstance" id="RFC3629">
            <span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
<dt id="STD68">[STD68]</dt>
        <dd>
<div class="refInstance">Internet Standard 68, <span>&lt;<a href="https://www.rfc-editor.org/info/std68">https://www.rfc-editor.org/info/std68</a>&gt;</span>.<br><span>At the time of writing, this STD comprises the following:</span>
</div>
<div class="refInstance" id="RFC5234">
            <span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
<dt id="STD80">[STD80]</dt>
        <dd>
<div class="refInstance">Internet Standard 80, <span>&lt;<a href="https://www.rfc-editor.org/info/std80">https://www.rfc-editor.org/info/std80</a>&gt;</span>.<br><span>At the time of writing, this STD comprises the following:</span>
</div>
<div class="refInstance" id="RFC0020">
            <span class="refAuthor">Cerf, V.</span>, <span class="refTitle">"ASCII format for network interchange"</span>, <span class="seriesInfo">STD 80</span>, <span class="seriesInfo">RFC 20</span>, <span class="seriesInfo">DOI 10.17487/RFC0020</span>, <time datetime="1969-10" class="refDate">October 1969</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc20">https://www.rfc-editor.org/info/rfc20</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
<dt id="STD94">[STD94]</dt>
      <dd>
<div class="refInstance">Internet Standard 94, <span>&lt;<a href="https://www.rfc-editor.org/info/std94">https://www.rfc-editor.org/info/std94</a>&gt;</span>.<br><span>At the time of writing, this STD comprises the following:</span>
</div>
<div class="refInstance" id="RFC8949">
            <span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8949">https://www.rfc-editor.org/info/rfc8949</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-8.2">
        <h3 id="name-informative-references">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ABNFROB">[ABNFROB]</dt>
        <dd>
<span class="refTitle">"PEG-parsing using ABNF grammars (via treetop)"</span>, <span>n.d.</span>, <span>&lt;<a href="https://github.com/cabo/abnftt">https://github.com/cabo/abnftt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.bormann-cbor-numbers">[I-D.bormann-cbor-numbers]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refTitle">"On Numbers in CBOR"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bormann-cbor-numbers-01</span>, <time datetime="2025-01-08" class="refDate">8 January 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-bormann-cbor-numbers-01">https://datatracker.ietf.org/doc/html/draft-bormann-cbor-numbers-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.bormann-t2trg-deref-id">[I-D.bormann-t2trg-deref-id]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">C. Amsüss</span>, <span class="refTitle">"The "dereferenceable identifier" pattern"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bormann-t2trg-deref-id-05</span>, <time datetime="2025-03-03" class="refDate">3 March 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-bormann-t2trg-deref-id-05">https://datatracker.ietf.org/doc/html/draft-bormann-t2trg-deref-id-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-cbor-edn-e-ref">[I-D.ietf-cbor-edn-e-ref]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refTitle">"External References to Values in CBOR Diagnostic Notation (EDN)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-cbor-edn-e-ref-01</span>, <time datetime="2024-12-29" class="refDate">29 December 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-cbor-edn-e-ref-01">https://datatracker.ietf.org/doc/html/draft-ietf-cbor-edn-e-ref-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-cbor-update-8610-grammar">[I-D.ietf-cbor-update-8610-grammar]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refTitle">"Updates to the CDDL grammar of RFC 8610"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-cbor-update-8610-grammar-06</span>, <time datetime="2024-06-24" class="refDate">24 June 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-cbor-update-8610-grammar-06">https://datatracker.ietf.org/doc/html/draft-ietf-cbor-update-8610-grammar-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4648">[RFC4648]</dt>
        <dd>
<span class="refAuthor">Josefsson, S.</span>, <span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time datetime="2006-10" class="refDate">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7049">[RFC7049]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">RFC 7049</span>, <span class="seriesInfo">DOI 10.17487/RFC7049</span>, <time datetime="2013-10" class="refDate">October 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7049">https://www.rfc-editor.org/rfc/rfc7049</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7493">[RFC7493]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The I-JSON Message Format"</span>, <span class="seriesInfo">RFC 7493</span>, <span class="seriesInfo">DOI 10.17487/RFC7493</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7493">https://www.rfc-editor.org/rfc/rfc7493</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8610">[RFC8610]</dt>
        <dd>
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time datetime="2019-06" class="refDate">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8610">https://www.rfc-editor.org/rfc/rfc8610</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9165">[RFC9165]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refTitle">"Additional Control Operators for the Concise Data Definition Language (CDDL)"</span>, <span class="seriesInfo">RFC 9165</span>, <span class="seriesInfo">DOI 10.17487/RFC9165</span>, <time datetime="2021-12" class="refDate">December 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9165">https://www.rfc-editor.org/rfc/rfc9165</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9290">[RFC9290]</dt>
        <dd>
<span class="refAuthor">Fossati, T.</span> and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Problem Details for Constrained Application Protocol (CoAP) APIs"</span>, <span class="seriesInfo">RFC 9290</span>, <span class="seriesInfo">DOI 10.17487/RFC9290</span>, <time datetime="2022-10" class="refDate">October 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9290">https://www.rfc-editor.org/rfc/rfc9290</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9512">[RFC9512]</dt>
        <dd>
<span class="refAuthor">Polli, R.</span>, <span class="refAuthor">Wilde, E.</span>, and <span class="refAuthor">E. Aro</span>, <span class="refTitle">"YAML Media Type"</span>, <span class="seriesInfo">RFC 9512</span>, <span class="seriesInfo">DOI 10.17487/RFC9512</span>, <time datetime="2024-02" class="refDate">February 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9512">https://www.rfc-editor.org/rfc/rfc9512</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD90">[STD90]</dt>
        <dd>
<div class="refInstance">Internet Standard 90, <span>&lt;<a href="https://www.rfc-editor.org/info/std90">https://www.rfc-editor.org/info/std90</a>&gt;</span>.<br><span>At the time of writing, this STD comprises the following:</span>
</div>
<div class="refInstance" id="RFC8259">
            <span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
<dt id="YAML">[YAML]</dt>
      <dd>
<span class="refAuthor">Ben-Kiki, O.</span>, <span class="refAuthor">Evans, C.</span>, and <span class="refAuthor">I. döt Net</span>, <span class="refTitle">"YAML Ain't Markup Language (YAML™) Version 1.2"</span>, <span class="refContent">Revision 1.2.2</span>, <time datetime="2021-10-01" class="refDate">1 October 2021</time>, <span>&lt;<a href="https://yaml.org/spec/1.2.2/">https://yaml.org/spec/1.2.2/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="edn-and-cddl">
<section id="appendix-A">
      <h2 id="name-edn-and-cddl">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-edn-and-cddl" class="section-name selfRef">EDN and CDDL</a>
      </h2>
<p id="appendix-A-1">This appendix is for information.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">EDN was designed as a language to provide a human-readable
representation of an instance, i.e., a single CBOR data item or CBOR
sequence.
CDDL was designed as a language to describe an (often large) set of
such instances (which itself constitutes a language), in the form of a
<em>data definition</em> or <em>grammar</em> (or sometimes called <em>schema</em>).<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">The two languages share some similarities, not the least because they
have mutually inspired each other.
But they have very different roots:<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-4.1">
          <p id="appendix-A-4.1.1">EDN syntax is an extension to JSON syntax <span>[<a href="#STD90" class="cite xref">STD90</a>]</span>.
(Any (interoperable) JSON text is also valid EDN.)<a href="#appendix-A-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-A-4.2">
          <p id="appendix-A-4.2.1">CDDL syntax is inspired by ABNF's syntax <span>[<a href="#STD68" class="cite xref">STD68</a>]</span>.<a href="#appendix-A-4.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-A-5">For engineers that are using both EDN and CDDL, it is easy to write
"CDDLisms" or "EDNisms" into their drafts that are meant to be in the
other language.
(This is one more of the many motivations to always validate formal
language instances with tools.)<a href="#appendix-A-5" class="pilcrow">¶</a></p>
<p id="appendix-A-6">Important differences include:<a href="#appendix-A-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-7.1">
          <p id="appendix-A-7.1.1">Comment syntax.  CDDL inherits ABNF's semicolon-delimited end of
line characters, while EDN finds nothing in JSON that could be inherited here.
Inspired by JavaScript, EDN simplifies JavaScript's copy of the
original C comment syntax to be delimited by single slashes (where
line breaks are not of interest); it also adds end-of-line comments
starting with <code>#</code>.<a href="#appendix-A-7.1.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="appendix-A-7.1.2">
            <dt id="appendix-A-7.1.2.1">EDN:</dt>
            <dd style="margin-left: 1.5em" id="appendix-A-7.1.2.2">
              <div class="lang-cbor-diag sourcecode" id="appendix-A-7.1.2.2.1">
<pre>
{ / alg / 1: -7 / ECDSA 256 / }
,
{ 1:   # alg
    -7 # ECDSA 256
}
</pre><a href="#appendix-A-7.1.2.2.1" class="pilcrow">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A-7.1.2.3">CDDL:</dt>
            <dd style="margin-left: 1.5em" id="appendix-A-7.1.2.4">
              <p id="appendix-A-7.1.2.4.1"><code>? 1 =&gt; int / tstr,  ; algorithm identifier</code><a href="#appendix-A-7.1.2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</li>
        <li class="normal" id="appendix-A-7.2">
          <p id="appendix-A-7.2.1">Syntax for tags.  CDDL's tag syntax is part of the system for
referring to CBOR's fundamentals (the major type 6, in this case)
and (with <span>[<a href="#I-D.ietf-cbor-update-8610-grammar" class="cite xref">I-D.ietf-cbor-update-8610-grammar</a>]</span>) allows specifying the actual tag number
separately, while EDN's tag syntax is a simple decimal number and a
pair of parentheses.<a href="#appendix-A-7.2.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A-7.2.2">
            <dt id="appendix-A-7.2.2.1">EDN:</dt>
            <dd style="margin-left: 1.5em" id="appendix-A-7.2.2.2">
              <div class="alignLeft art-text artwork" id="appendix-A-7.2.2.2.1">
<pre>
98([h'', # empty encoded protected header
    {},  # empty unprotected header
    ...  # rest elided here
   ])
</pre><a href="#appendix-A-7.2.2.2.1" class="pilcrow">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A-7.2.2.3">CDDL:</dt>
            <dd style="margin-left: 1.5em" id="appendix-A-7.2.2.4">
              <p id="appendix-A-7.2.2.4.1"><code>COSE_Sign_Tagged = #6.98(COSE_Sign)</code><a href="#appendix-A-7.2.2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</li>
        <li class="normal" id="appendix-A-7.3">
          <p id="appendix-A-7.3.1">Embedded CBOR.  EDN has a special syntax to describe the content of
byte strings that are encoded CBOR data items.  CDDL can specify
these with a control operator, which looks very different.<a href="#appendix-A-7.3.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A-7.3.2">
            <dt id="appendix-A-7.3.2.1">EDN:</dt>
            <dd style="margin-left: 1.5em" id="appendix-A-7.3.2.2">
              <div class="alignLeft art-text artwork" id="appendix-A-7.3.2.2.1">
<pre>
98([&lt;&lt; {/alg/ 1: -7 /ECDSA 256/} &gt;&gt;, # == h'a10126'
    ...                              # rest elided here
   ])
</pre><a href="#appendix-A-7.3.2.2.1" class="pilcrow">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A-7.3.2.3">CDDL:</dt>
            <dd style="margin-left: 1.5em" id="appendix-A-7.3.2.4">
              <p id="appendix-A-7.3.2.4.1"><code>serialized_map = bytes .cbor header_map</code><a href="#appendix-A-7.3.2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</li>
      </ul>
</section>
</div>
<div id="acknowledgements">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">The concept of application-oriented extensions to diagnostic notation,
as well as the definition for the "dt" extension, were inspired by the
CoRAL work by Klaus Hartke.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">(TBD)<a href="#appendix-B-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Carsten Bormann</span></div>
<div dir="auto" class="left"><span class="org">Universität Bremen TZI</span></div>
<div dir="auto" class="left"><span class="street-address">Postfach 330440</span></div>
<div dir="auto" class="left">
<span class="postal-code">D-28359</span> <span class="locality">Bremen</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+49-421-218-63921" class="tel">+49-421-218-63921</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:cabo@tzi.org" class="email">cabo@tzi.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
